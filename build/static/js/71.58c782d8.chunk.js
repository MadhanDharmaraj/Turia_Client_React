(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[71],{1685:function(e,t,n){"use strict";n.r(t);var a=n(16),c=n(4),s=n(17),i=n(2),l=n.n(i),r=n(1),o=n(10),d=n(131),u=n(5),m=n.n(u),j=n(6),b=n(512),v=n.n(b),O=n(819),x=n(826),p=n(500),f=n(145),h=n(498),g=n(510),w=n(511),N=n(90),y=(n(514),n(502),n(499),n(503),n(132)),I=n(513),D=n(12),S=Object(I.b)(),_=function(){var e,t=Object(y.b)(),n=Object(y.c)((function(e){return e.digitalsignature})),i=Object(o.f)(),u=Object(r.useState)(null),b=Object(s.a)(u,2),I=b[0],_=b[1],C=g.f().shape({clientId:g.h().required("Please select a Client"),rows:g.a().of(g.f().shape({name:g.h().required("Please Enter Name"),organizationId:g.h().default(S),email:g.h().email().required("Please Enter Email"),contact:g.h().matches(/^[0-9\- ]{10,10}$/,{message:"Phone number is not valid",excludeEmptyString:!0}),issuedDate:g.e().required("Please Enter Issued Date"),expiryDate:g.e().required("Please Enter Expiry Date"),password:g.h().min(5,"Password length should be 5 or above.")}))}),E=Object(h.f)({resolver:Object(w.a)(C),defaultValues:C.cast()}),B=E.handleSubmit,z=E.formState.errors,k=E.control,P=Object(r.useState)([]),L=Object(s.a)(P,2),F=L[0],q=L[1],V=Object(h.e)({name:"rows",keyName:"rowid",control:k}),J=V.fields,U=V.append,Y=V.remove,A=function(){var e=Object(c.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n),e.next=3,t(Object(f.b)(n));case 3:i("/digital-signature/list");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){U({clientId:"",name:"",email:"",contact:"",issuedDate:"",expiryDate:"",password:""}),k._formValues.rows.forEach((function(e,t){k._formValues.rows[t].clientId=I})),console.log(k._formValues.rows)},R=function(){var e=Object(c.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(n),Y(),e.next=4,t(Object(f.a)(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){n.DSCLists.forEach((function(e){var t={};t.name=e.name,t.email=e.email,t.organizationId=S,t.clientId=I,t.contact=e.contact,t.issuedDate=null|e.issuedDate,t.expiryDate=null|e.expiryDate,t.password=""|e.password,U(t)}))}),[n.DSCLists]),Object(r.useEffect)((function(){j.a.post("/clients/dropdown").then((function(e){var t=e.data;q(t.clients)})),M()}),[]),Object(D.jsxs)("form",{onSubmit:B(A),children:[Object(D.jsxs)(N.l,{className:"invoice-preview-card",children:[Object(D.jsx)(N.m,{className:"pb-0",children:Object(D.jsx)(N.jb,{children:Object(D.jsx)(N.B,{md:"6",className:"mb-1",children:Object(D.jsxs)(N.jb,{className:"mb-1",children:[Object(D.jsx)(N.O,{sm:"3",size:"lg",className:"form-label",for:"clientId",children:"Client"}),Object(D.jsxs)(N.B,{sm:"9",children:[Object(D.jsx)(h.a,{control:k,name:"clientId",id:"clientId",render:function(e){var t=e.field,n=e.ref;return Object(D.jsx)(p.a,Object(a.a)(Object(a.a)({},t),{},{inputRef:n,className:m()("react-select",{"is-invalid":z.clientId}),classNamePrefix:"select",options:F,value:F.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id),R(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),z.clientId&&Object(D.jsx)(N.I,{className:"text-danger",children:null===(e=z.clientId)||void 0===e?void 0:e.message})]})]})})})}),Object(D.jsxs)(N.m,{className:"invoice-padding invoice-product-details",children:[J.map((function(e,t){var n,c,s,i,l,r,o,d,u,m,j,b,x,p,f,g,w,y,I,S,_,C,E,B;return Object(D.jsx)("div",{className:"repeater-wrapper",children:Object(D.jsx)(N.jb,{children:Object(D.jsxs)(N.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(D.jsxs)(N.jb,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(D.jsxs)(N.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-2 col-sm-12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Name"}),Object(D.jsx)(h.a,{control:k,id:"dsc_list_name",name:"rows[".concat(t,"].name"),render:function(e){var n,c,s=e.field;return Object(D.jsx)(N.L,Object(a.a)(Object(a.a)({type:"text"},register("rows.".concat(t,".name"))),{},{invalid:(null===(n=z.rows)||void 0===n||null===(c=n[t])||void 0===c?void 0:c.name)&&!0},s))}}),(null===(n=z.rows)||void 0===n||null===(c=n[t])||void 0===c?void 0:c.name)&&Object(D.jsx)(N.I,{children:null===(s=z.rows)||void 0===s||null===(i=s[t])||void 0===i?void 0:i.name.message})]}),Object(D.jsxs)(N.B,{className:"my-lg-0 my-2 col-lg-2 col-sm-12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Email"}),Object(D.jsx)(h.a,{control:k,id:"dsc_list_email",name:"rows[".concat(t,"].email"),render:function(e){var n,c,s=e.field;return Object(D.jsx)(N.L,Object(a.a)(Object(a.a)({type:"email"},register("rows.".concat(t,".email"))),{},{invalid:(null===(n=z.rows)||void 0===n||null===(c=n[t])||void 0===c?void 0:c.email)&&!0},s))}}),(null===(l=z.rows)||void 0===l||null===(r=l[t])||void 0===r?void 0:r.email)&&Object(D.jsx)(N.I,{children:null===(o=z.rows)||void 0===o||null===(d=o[t])||void 0===d?void 0:d.email.message})]}),Object(D.jsxs)(N.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Mobile"}),Object(D.jsx)(h.a,{control:k,id:"dsc_list_contactNumber",name:"rows[".concat(t,"].contact"),render:function(e){var n,c,s=e.field;return Object(D.jsx)(N.L,Object(a.a)(Object(a.a)({type:"number"},register("rows.".concat(t,".contact"))),{},{invalid:(null===(n=z.rows)||void 0===n||null===(c=n[t])||void 0===c?void 0:c.contact)&&!0},s))}}),(null===(u=z.rows)||void 0===u||null===(m=u[t])||void 0===m?void 0:m.contact)&&Object(D.jsx)(N.I,{children:null===(j=z.rows)||void 0===j||null===(b=j[t])||void 0===b?void 0:b.contact.message})]}),Object(D.jsxs)(N.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Issued Date"}),Object(D.jsx)(h.a,{control:k,id:"dsc_list_issuedDate",name:"rows[".concat(t,"].issuedDate"),render:function(e){var t=e.field;return Object(D.jsx)(v.a,{value:t.value,onChange:function(e,n){t.onChange(n)},options:{altInput:!0,altFormat:"F j, Y",dateFormat:"U"},className:"form-control invoice-edit-input date-picker"})}}),(null===(x=z.rows)||void 0===x||null===(p=x[t])||void 0===p?void 0:p.issuedDate)&&Object(D.jsx)(N.I,{children:null===(f=z.rows)||void 0===f||null===(g=f[t])||void 0===g?void 0:g.issuedDate.message})]}),Object(D.jsxs)(N.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Expiry Date"}),Object(D.jsx)(h.a,{control:k,id:"dsc_list_expiryDate",name:"rows[".concat(t,"].expiryDate"),render:function(e){var t=e.field;return Object(D.jsx)(v.a,{value:t.value,onChange:function(e,n){t.onChange(n)},options:{altInput:!0,altFormat:"F j, Y",dateFormat:"U"},className:"form-control invoice-edit-input date-picker"})}}),(null===(w=z.rows)||void 0===w||null===(y=w[t])||void 0===y?void 0:y.expiryDate)&&Object(D.jsx)(N.I,{children:null===(I=z.rows)||void 0===I||null===(S=I[t])||void 0===S?void 0:S.expiryDate.message})]}),Object(D.jsxs)(N.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(D.jsx)(N.u,{className:"col-title mb-md-50 mb-0",children:"Password"}),Object(D.jsx)(h.a,{control:k,id:"dsc_list_password",name:"rows[".concat(t,"].password"),render:function(e){var n,c,s=e.field;return Object(D.jsx)(N.L,Object(a.a)({type:"text",invalid:(null===(n=z.rows)||void 0===n||null===(c=n[t])||void 0===c?void 0:c.password)&&!0},s))}}),(null===(_=z.rows)||void 0===_||null===(C=_[t])||void 0===C?void 0:C.password)&&Object(D.jsx)(N.I,{children:null===(E=z.rows)||void 0===E||null===(B=E[t])||void 0===B?void 0:B.password.message})]})]}),Object(D.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(D.jsx)(O.a,{size:18,className:"cursor-pointer",onClick:function(){Y(t)}})})]})})},e.rowid)})),Object(D.jsx)(N.jb,{className:"mt-1",children:Object(D.jsx)(N.B,{sm:"12",className:"px-0",children:Object(D.jsxs)(N.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){return M()},children:[Object(D.jsx)(x.a,{size:14,className:"me-25"})," ",Object(D.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]})]}),Object(D.jsx)(N.l,{children:Object(D.jsx)(N.m,{children:Object(D.jsxs)("div",{className:"modal-footer border-0",children:[Object(D.jsx)(N.i,{color:"warning",outline:!0,tag:d.b,to:"/digital-signature/list",children:"Cancel"}),Object(D.jsx)(N.i,{color:"primary",type:"submit",children:"Save"})]})})})]})};t.default=function(){return Object(D.jsx)("div",{className:"invoice-add-wrapper",children:Object(D.jsx)(N.jb,{className:"invoice-add",children:Object(D.jsx)(N.B,{xl:12,md:12,sm:12,children:Object(D.jsx)(_,{})})})})}},499:function(e,t,n){},503:function(e,t,n){},513:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=function(){return null===localStorage.getItem("activeOrganization")?null:JSON.parse(localStorage.getItem("activeOrganization")).id},c=function(){return null===localStorage.getItem("activeOrganization")?null:JSON.parse(localStorage.getItem("activeOrganization"))}},514:function(e,t,n){}}]);
//# sourceMappingURL=71.58c782d8.chunk.js.map