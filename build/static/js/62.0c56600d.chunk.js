(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[62],{1680:function(e,t,a){"use strict";a.r(t);var n=a(16),c=a(4),r=a(17),i=a(2),s=a.n(i),l=a(500),o=a(10),d=a(131),j=a(132),b=a(498),u=a(510),m=a(511),O=a(146),x=a(6),p=a(5),f=a.n(p),h=a(90),g=(a(514),a(502),a(499),a(503),a(1)),v=a(513),N=a(12),S=Object(v.b)(),I=function(){var e=Object(o.g)().id,t=Object(o.f)({}),a=Object(j.b)(),i=Object(g.useState)([]),p=Object(r.a)(i,2),v=p[0],I=p[1],y=Object(g.useState)([]),w=Object(r.a)(y,2),C=w[0],P=w[1],B=Object(g.useState)([]),z=Object(r.a)(B,2),q=z[0],R=z[1],E=Object(g.useState)([]),T=Object(r.a)(E,2),A=T[0],k=T[1],G=Object(g.useState)(!0),J=Object(r.a)(G,2),L=J[0],V=J[1],F=u.f().shape({id:u.h().default(e),categoryId:u.h().required("Please select a Category"),categoryType:u.e().default(1),organizationId:u.e().default(S),name:u.h().required("Please Enter Service Name"),taxGroupId:u.h().required("Please Select Tax Rate"),isTaxApplicable:u.c().default(!0),exemptionReasonId:u.e().when(["isTaxApplicable"],{is:function(e){return!e},then:u.e().required("Please Select Exemption Reason")}).nullable(),sellingPrice:u.h().required("Please Enter Professional Fee"),sacCode:u.h().required("Please Enter SAC Code")}),D=Object(b.f)({resolver:Object(m.a)(F),defaultValues:F.cast()}),H=D.handleSubmit,K=D.control,M=D.reset,Q=D.formState.errors,U=D.setValue,W=function(){var t=Object(c.a)(s.a.mark((function t(){var n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(Object(O.g)(e));case 2:n=t.sent,R(n.payload);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),X=function(e){e.nontaxableflag?(V(!1),U("isTaxApplicable",!1)):(V(!0),U("isTaxApplicable",!0),U("exemptionReasonId",null))};Object(g.useEffect)((function(){Object.keys(q).length>0&&(M({categoryId:q.categoryid,name:q.name,organizationId:q.organizationid,sellingPrice:q.sellingprice,sacCode:q.saccode,taxGroupId:q.taxgroupid,description:q.description,isTaxApplicable:q.istaxapplicable,exemptionReasonId:q.exemptionreasonid}),V(q.istaxapplicable))}),[q]),Object(g.useEffect)((function(){x.a.post("/taxgroups/dropdown").then((function(e){var t=e.data;P(t.taxgroups)})),x.a.post("/categories/list").then((function(e){var t=e.data;I(t.categories)})),x.a.post("/exemptionreasons/dropdown").then((function(e){var t=e.data;k(t.exemptionreasons)})),void 0!==e&&W()}),[]);var Y=function(){var n=Object(c.a)(s.a.mark((function n(c){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a(Object(O.i)(c));case 2:t("/service/view/".concat(e));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),Z=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(N.jsxs)(h.jb,{className:"mb-1",children:[Object(N.jsx)(h.O,{sm:"3",size:"lg",className:f()("form-label ".concat(a?"required":"")),for:t,children:e}),Object(N.jsxs)(h.B,{sm:"9",children:[Object(N.jsx)(b.a,{id:t,name:t,control:K,render:function(e){var a=e.field;return Object(N.jsx)(h.L,Object(n.a)({invalid:Q[t]&&!0},a))}}),Q[t]&&Object(N.jsx)(h.I,{children:Q[t].message})]})]})},$=function(e,t,a){var c,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(N.jsxs)(h.jb,{className:"mb-1",children:[Object(N.jsx)(h.O,{sm:"3",size:"lg",className:f()("form-label ".concat(r?"required":"")),for:t,children:e}),Object(N.jsxs)(h.B,{sm:"9",children:[Object(N.jsx)(b.a,{control:K,name:t,id:t,render:function(e){var c=e.field,r=e.ref;return Object(N.jsx)(l.a,Object(n.a)(Object(n.a)({inputRef:r,className:f()("react-select",{"is-invalid":Q[t]})},c),{},{classNamePrefix:"select",options:a,value:a.find((function(e){return e.id===c.value})),onChange:function(e){c.onChange(e.id),"taxGroupId"===t&&X(e)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),Q[t]&&Object(N.jsx)(h.I,{className:"text-danger",children:null===(c=Q[t])||void 0===c?void 0:c.message})]})]})};return Object(N.jsxs)("form",{onSubmit:H(Y),children:[Object(N.jsxs)(h.l,{className:"invoice-preview-card",children:[Object(N.jsx)(h.p,{children:Object(N.jsx)(h.v,{children:"Edit Service"})}),Object(N.jsxs)(h.m,{className:"pb-0",children:[Object(N.jsx)(h.jb,{children:Object(N.jsx)(h.B,{md:"6",className:"mb-1",children:$("Category","categoryId",v,!0)})}),Object(N.jsx)(h.jb,{children:Object(N.jsx)(h.B,{md:"6",className:"mb-1",children:Z("Name","name",!0)})}),Object(N.jsx)(h.jb,{children:Object(N.jsx)(h.B,{md:"6",className:"mb-1",children:Z("SAC Code","sacCode",!0)})}),Object(N.jsx)(h.jb,{children:Object(N.jsx)(h.B,{md:"6",className:"mb-1",children:Z("Professional Fee","sellingPrice",!0)})}),Object(N.jsx)(h.jb,{children:Object(N.jsx)(h.B,{md:"6",className:"mb-1",children:$("Tax Rate","taxGroupId",C,!0)})}),!L&&Object(N.jsx)(h.jb,{children:Object(N.jsx)(h.B,{md:"6",className:"mb-1",children:$("Exemption Reason","exemptionReasonId",A,!0)})}),Object(N.jsx)(h.jb,{children:Object(N.jsx)(h.B,{md:"6",className:"mb-1",children:Object(N.jsxs)(h.jb,{className:"mb-1",children:[Object(N.jsx)(h.O,{sm:"3",size:"lg",className:"form-label required",for:"description",children:"Description"}),Object(N.jsxs)(h.B,{sm:"9",children:[Object(N.jsx)(b.a,{id:"description",name:"description",control:K,render:function(e){var t=e.field;return Object(N.jsx)(h.L,Object(n.a)({type:"textarea",invalid:Q.description&&!0},t))}}),Q.description&&Object(N.jsx)(h.I,{children:Q.description.message})]})]})})})]})]}),Object(N.jsx)(h.l,{children:Object(N.jsx)(h.m,{children:Object(N.jsxs)("div",{className:"modal-footer border-0",children:[Object(N.jsx)(h.i,{color:"warning",outline:!0,tag:d.b,to:"/service/list",children:"Cancel"}),Object(N.jsx)(h.i,{color:"primary",type:"submit",children:"Save"})]})})})]})};t.default=function(){return Object(N.jsx)("div",{className:"invoice-add-wrapper",children:Object(N.jsx)(h.jb,{className:"invoice-add",children:Object(N.jsx)(h.B,{xl:12,md:12,sm:12,children:Object(N.jsx)(I,{})})})})}},499:function(e,t,a){},503:function(e,t,a){},513:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return c}));var n=function(){return null===localStorage.getItem("activeOrganization")?null:JSON.parse(localStorage.getItem("activeOrganization")).id},c=function(){return null===localStorage.getItem("activeOrganization")?null:JSON.parse(localStorage.getItem("activeOrganization"))}},514:function(e,t,a){}}]);
//# sourceMappingURL=62.0c56600d.chunk.js.map