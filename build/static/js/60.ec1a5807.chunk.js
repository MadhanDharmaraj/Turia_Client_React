(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[60],{1672:function(e,t,n){"use strict";n.r(t);var a=n(11),c=n(16),i=n(4),s=n(17),r=n(2),l=n.n(r),o=n(1),d=n(6),u=n(512),j=n.n(u),b=n(903),m=n(819),p=n(826),x=n(500),O=n(498),f=n(510),h=n(511),v=n(90),g=n(5),N=n.n(g),I=n(140),y=n(497),w=(n(514),n(502),n(499),n(503),n(513)),A=n(671),C=n(10),S=n(131),k=n(132),z=n(12),F=Object(w.b)(),P=Object(w.a)(),B=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],u=Object(o.useState)([]),g=Object(s.a)(u,2),w=g[0],B=g[1],T=Object(o.useState)([]),L=Object(s.a)(T,2),V=L[0],_=L[1],R=Object(o.useState)([]),G=Object(s.a)(R,2),q=G[0],E=G[1],D=Object(o.useState)([]),J=Object(s.a)(D,2),H=J[0],M=J[1],U=Object(o.useState)(0),Y=Object(s.a)(U,2),Z=Y[0],W=Y[1],$=Object(o.useState)(0),K=Object(s.a)($,2),Q=K[0],X=K[1],ee=Object(o.useState)([]),te=Object(s.a)(ee,2),ne=te[0],ae=te[1],ce=Object(o.useState)({}),ie=Object(s.a)(ce,2),se=ie[0],re=ie[1],le=Object(o.useState)([]),oe=Object(s.a)(le,2),de=oe[0],ue=oe[1],je=Object(o.useState)([]),be=Object(s.a)(je,2),me=be[0],pe=be[1],xe=Object(o.useState)([]),Oe=Object(s.a)(xe,2),fe=Oe[0],he=Oe[1],ve=Object(o.useState)([]),ge=Object(s.a)(ve,2),Ne=ge[0],Ie=ge[1],ye=Object(C.f)(),we=Object(k.b)(),Ae=Object(k.c)((function(e){return e.invoice}));Object(o.useEffect)((function(){d.a.post("/clients/dropdown").then((function(e){var t=e.data;r(t.clients)})),d.a.post("/services/dropdown").then((function(e){var t=e.data;B(t.services)})),d.a.post("/taxgroups/dropdown").then((function(e){var t=e.data;_(t.taxgroups)})),d.a.post("/exemptionreasons/dropdown").then((function(e){var t=e.data;Ie(t.exemptionreasons)})),d.a.post("/transactionaccounts/dropdown").then((function(e){var t=e.data;M(t.transactionaccounts)})),d.a.post("/states/list").then((function(e){var t=e.data;E(t.states)}))}),[]);var Ce=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,we(Object(I.f)(t));case 2:n=e.sent,re(n.payload);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=f.f().shape({contactId:f.e().required("Please select a Client"),uniqueIdentity:f.h(),contactEmail:f.h(),contactName:f.h(),invoiceDate:f.e(),paymentDue:f.e(),placeOfSupplyId:f.e().required("Please select a Place Of Supply"),subTotalAmount:f.h(),totalAmount:f.h(),totalTaxAmount:f.h(),organizationId:f.e().default(F),isRcmApplicable:f.c().default(!1),dueAmount:f.h(),billingAddressLine1:f.h(),billingAddressLine2:f.h(),billingAddressState:f.h(),billingAddressCity:f.h(),billingAddressZipCode:f.h(),billingCurrencyId:f.e(),bankAccountBankName:f.h(),bankAccountBranchName:f.h(),bankAccountHolderName:f.h(),bankAccountId:f.h().required("Please Select Account"),bankAccountIfscCode:f.h(),bankAccountNumber:f.h(),organizationAddressLine1:f.h().default(P.addressline1),organizationAddressLine2:f.h().default(P.addressline2),organizationCity:f.h().default(P.organizationcity),organizationState:f.h().default(P.statename),organizationZipCode:f.h().default(P.pinzipcode),organizationName:f.h().default(P.name),organizationImageUrl:f.h().default(""),organizationStateCode:f.h().default(P.stateshortname),organizationGstin:f.h().default(P.gstin),gstin:f.h(),note:f.h().default("It was a pleasure working with you and your team. We hope you will keep us in mind for future freelance projects. Thank You!"),status:f.e().default(1),calculateTaxes:f.h(),paymentStatus:f.e().default(11),rows:f.a().of(f.f().shape({serviceId:f.e().required("Please Select Service Item"),invoiceId:f.e(),sacCode:f.h(),price:f.h(),organizationId:f.e().default(F),exemptionReasonId:f.e().nullable(),isTaxApplicable:f.c().default(!0),actualPrice:f.h().required(),taxGroupId:f.e().required("Pleace Select Tax"),subTotalAmount:f.h().required(1),taxes:f.h()}))}),ke=Object(O.f)({resolver:Object(h.a)(Se),defaultValues:Se.cast()}),ze=ke.handleSubmit,Fe=ke.formState.errors,Pe=ke.control,Be=ke.setValue,Te=Object(O.e)({control:Pe,name:"rows"}),Le=Te.fields,Ve=Te.append,_e=Te.remove,Re=Te.update,Ge=function(){var e=Object(i.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.rows,ae(n),delete t.rows,e.next=5,we(Object(I.a)(t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=Object(i.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne.forEach((function(e,n){ne[n].invoiceId=t})),e.next=3,we(Object(I.b)(ne));case 3:ye("/invoice/view/".concat(Ae.invoiceId));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){Ve({invoiceId:0,organizationId:F,serviceId:"",exemptionReasonId:0,isTaxApplicable:!0,sacCode:"",actualPrice:0,taxGroupId:"",subTotalAmount:0,taxPrice:0,description:""})};Object(o.useEffect)((function(){Ee()}),[]),Object(o.useEffect)(Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null!==Ae.invoiceId&&ne.length>0)){e.next=3;break}return e.next=3,qe(Ae.invoiceId);case 3:case"end":return e.stop()}}),e)}))),[Ae.invoiceId]);var De=function(){var e=Pe._formValues.rows,t=0,n=0,a=0;e.forEach((function(e){t=parseFloat(e.subTotalAmount)+parseFloat(t),n=parseFloat(e.price)+parseFloat(n),a=parseFloat(a)+parseFloat(e.taxPrice)})),Pe._formValues.subTotalAmount=n,Pe._formValues.totalAmount=t,Pe._formValues.dueAmount=t,Pe._formValues.totalTaxAmount=a,W(t),X(n),function(){var e;e=Pe._formValues.rows.map((function(e){return Object(A.b)(e.taxes)})).flat().reduce((function(e,t){if(void 0!==t){var n=e.find((function(e){return t.taxName===e.taxName}));n?n.taxAmount=parseFloat(n.taxAmount)+parseFloat(t.taxAmount):e.push(Object.assign({},t))}return e}),[]),he(e),Be("calculateTaxes",JSON.stringify(e))}()},Je=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=Pe._formValues.rows[e];if(void 0===s.serviceId||""===s.serviceId)return!1;var r=w.find((function(e){return e.id===s.serviceId}));i?(s.sacCode=r.saccode,s.actualPrice=0|r.sellingprice,s.price=0|String(r.sellingprice),s.taxGroupId=r.taxgroupid,s.description=r.description,s.exemptionReasonId=r.exemptionreasonid):(s.sacCode=a?s.sacCode:r.saccode,s.price=n?s.price:0|r.sellingprice,s.actualPrice=0|String(r.sellingprice),s.taxGroupId=c?s.taxGroupId:r.taxgroupid,s.description=t?s.description:r.description,s.exemptionReasonId=r.exemptionreasonid);var l=0,o=[],d=V.find((function(e){return e.id===s.taxGroupId}));s.isTaxApplicable=void 0!==d?!d.nontaxableflag:r.istaxapplicable,s.isTaxApplicable&&void 0!==d&&de.forEach((function(e){if(e.taxid===s.taxGroupId){var t;t=Object(A.a)(s.price,e.percentage,2),l=parseFloat(l)+parseFloat(t);var n={};n.taxName="".concat(e.name," (").concat(e.percentage,"%)"),n.taxId=parseInt(e.id),n.taxNameValue=e.name,n.taxPercentage=String(e.percentage),n.taxAmount=String(t),o.push(n)}})),s.subTotalAmount=String(parseFloat(parseFloat(0|l)+parseFloat(0|s.price)).toFixed(2)),s.taxPrice=parseFloat(l).toFixed(2),s.taxes=JSON.stringify(o),Re(e,s),De()},He=function(){var e=1;P.stateid===Pe._formValues.placeOfSupplyId&&(e=2),function(e){var t={type:e};d.a.post("/taxvalues/list",t).then((function(e){var t=e.data;ue(t.taxvalues)}))}(e)};Object(o.useEffect)((function(){de.length>0&&Pe._formValues.rows.forEach((function(e,t){Je(t,!1,!1,!1,!1,!1)}))}),[de]);Object(o.useEffect)((function(){Object.keys(se).length>0&&(Be("billingAddressCity",se.billingaddresscity),Be("billingAddressLine1",se.billingaddressline1),Be("billingAddressLine2",se.billingaddressline1),Be("billingAddressState",se.billingaddressstatesname),Be("billingAddressZipCode",se.billingaddresszip),Be("billingCurrencyId",parseInt(se.currencyid)),Be("billingCurrencySymbol",se.currenciessymbol),Be("billingCurrencyShortName",se.currenciescode),Be("billingCurrencyName",se.currenciesname),Be("contactEmail",se.email),Be("gstin",se.gstin),Be("contactName",se.name),Be("placeOfSupplyId",se.placeofsupplyid),He())}),[se]);return Object(z.jsx)("form",{onSubmit:ze(Ge),children:Object(z.jsx)(v.jb,{className:"invoice-add",children:Object(z.jsxs)(o.Fragment,{children:[Object(z.jsx)(v.B,{xl:10,md:8,sm:12,children:Object(z.jsxs)(v.l,{className:"invoice-preview-card",children:[Object(z.jsxs)(v.m,{className:"invoice-padding pb-0",children:[function(){var e=Object.keys(Fe),t=[];return Array.isArray(e)&&e.forEach((function(e){var n;"rows"!==e&&t.push(Object(z.jsxs)(v.I,{children:["$",null===(n=Fe[e])||void 0===n?void 0:n.message]},e))})),t}(),Object(z.jsxs)("div",{className:"d-flex justify-content-between flex-md-row flex-column invoice-spacing mt-0",children:[Object(z.jsxs)("div",{children:[Object(z.jsx)("div",{className:"logo-wrapper",children:function(e){var t=["light-success","light-danger","light-warning","light-info","light-primary","light-secondary"][Math.floor(6*Math.random())];return Object(z.jsx)(y.a,{color:t,className:"me-50",content:null!==e?e.charAt(0):""})}(P.name)}),Object(z.jsx)("h3",{className:"text-primary invoice-logo",children:P.name}),Object(z.jsx)("p",{className:"card-text mb-25",children:P.addressline1}),Object(z.jsx)("p",{className:"card-text mb-25",children:P.addressline2}),Object(z.jsxs)("p",{className:"card-text mb-0",children:[P.organizationcity," - ",P.pinzipcode]}),Object(z.jsx)("p",{className:"card-text mb-0",children:P.statename})]}),Object(z.jsxs)("div",{className:"invoice-number-date mt-md-0 mt-2",children:[Object(z.jsxs)("div",{className:"d-flex align-items-center justify-content-md-end mb-1",children:[Object(z.jsx)("h4",{className:"invoice-title",children:"Invoice"}),Object(z.jsxs)(v.M,{className:"input-group-merge invoice-edit-input-group disabled",children:[Object(z.jsx)(v.N,{children:Object(z.jsx)(b.a,{size:15})}),Object(z.jsx)(v.L,{type:"number",className:"invoice-edit-input",value:3171,placeholder:"53634",disabled:!0})]})]}),Object(z.jsxs)("div",{className:"d-flex align-items-center mb-1",children:[Object(z.jsx)("span",{className:"title",children:"Invoice Date:"}),Object(z.jsx)(O.a,{control:Pe,name:"invoiceDate",id:"invoiceDate",render:function(e){var t=e.field;return Object(z.jsx)(j.a,{value:t.value,onChange:function(e,n){t.onChange(n)},options:{altInput:!0,altFormat:"M j, Y",dateFormat:"U"},className:"form-control invoice-edit-input date-picker"})}})]}),Object(z.jsxs)("div",{className:"d-flex align-items-center",children:[Object(z.jsx)("span",{className:"title",children:"Due Date:"}),Object(z.jsx)(O.a,{control:Pe,name:"paymentDue",id:"paymentDue",render:function(e){var t=e.field;return Object(z.jsx)(j.a,{value:t.value,onChange:function(e,n){t.onChange(n)},options:{altInput:!0,altFormat:"M j, Y",dateFormat:"U"},className:"form-control invoice-edit-input due-date-picker"})}})]})]})]})]}),Object(z.jsx)("hr",{className:"invoice-spacing"}),Object(z.jsxs)(v.m,{className:"invoice-padding pt-0",children:[Object(z.jsxs)(v.jb,{className:"row-bill-to invoice-spacing",children:[Object(z.jsxs)(v.B,{className:"col-bill-to ps-0",xl:"8",children:[Object(z.jsx)("h6",{className:"invoice-to-title",children:"Invoice To:"}),Object(z.jsx)("div",{className:"invoice-customer",children:Object(z.jsx)(O.a,{control:Pe,name:"contactId",id:"contactId",render:function(e){var t=e.field,a=e.ref;return Object(z.jsx)(x.a,Object(c.a)(Object(c.a)({inputRef:a,className:N()("react-select",{"is-invalid":Fe.contactId})},t),{},{classNamePrefix:"select",options:n,value:n.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id),Ce(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}})}),Object(z.jsx)(v.B,{className:"pe-0 mt-xl-2",xl:"4",children:Object(z.jsx)("table",{children:Object(z.jsxs)("tbody",{children:[Object(z.jsx)("tr",{children:Object(z.jsx)("td",{children:se.billingaddressline1})}),Object(z.jsx)("tr",{children:Object(z.jsx)("td",{children:se.billingaddressline2})}),Object(z.jsx)("tr",{children:Object(z.jsxs)("td",{children:[se.billingaddresscity," ",se.billingaddresszip&&"-","  ",se.billingaddresszip]})}),Object(z.jsx)("tr",{children:Object(z.jsx)("td",{children:se.billingaddressstatesname})})]})})})]}),Object(z.jsxs)(v.B,{className:"pe-0 mt-xl-0 mt-2",xl:"4",children:[Object(z.jsx)("h6",{className:"mb-2",children:"Payment Details:"}),Object(z.jsx)("table",{children:Object(z.jsxs)("tbody",{children:[Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{className:"pe-1",children:"Bank Name:"}),Object(z.jsx)("td",{children:me.bankName&&Object(z.jsx)("span",{className:"fw-bolder",children:me.bankName})})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{className:"pe-1",children:"Account name:"}),Object(z.jsx)("td",{children:me.accountHolderName&&Object(z.jsx)("span",{className:"fw-bolder",children:me.accountHolderName})})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{className:"pe-1",children:"Branch Name:"}),Object(z.jsxs)("td",{children:[" ",me.branchAddress&&Object(z.jsx)("span",{className:"fw-bolder",children:me.branchAddress})]})]}),Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{className:"pe-1",children:"IFSC Code:"}),Object(z.jsx)("td",{children:me.ifscCode&&Object(z.jsxs)("span",{className:"fw-bolder",children:[me.ifscCode," "]})})]}),se.currenciescode&&Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{className:"pe-1",children:"Currency code:"}),Object(z.jsx)("td",{children:se.currenciescode})]})]})})]})]}),Object(z.jsxs)(v.jb,{className:"row-bill-to invoice-spacing",children:[Object(z.jsxs)(v.B,{className:"col-bill-to ps-0",xl:"8",children:[Object(z.jsx)("h6",{className:"invoice-to-title mt-2",children:"Place Of Supply:"}),Object(z.jsx)("div",{className:"invoice-customer",children:Object(z.jsx)(O.a,{control:Pe,name:"placeOfSupplyId",id:"placeOfSupplyId",render:function(e){var t=e.field,n=e.ref;return Object(z.jsx)(x.a,Object(c.a)(Object(c.a)({inputRef:n,className:N()("react-select",{"is-invalid":Fe.placeOfSupplyId})},t),{},{classNamePrefix:"select",options:q,value:q.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id),He()},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}})}),""!==se.gstin&&void 0!==se.gstin&&Object(z.jsxs)("div",{className:"mt-1",children:[" GSTIN : ",se.gstin]})]}),Object(z.jsx)(v.B,{className:"pe-0 mt-xl-0 mt-2",xl:"4",children:Object(z.jsx)("table",{children:Object(z.jsx)("tbody",{children:Object(z.jsxs)("tr",{children:[Object(z.jsx)("td",{className:"pe-1",children:"RCM Applicable:"}),Object(z.jsx)("td",{children:Object(z.jsx)("div",{className:"form-switch form-check-success",children:Object(z.jsx)(O.a,{control:Pe,name:"isRcmApplicable",id:"isRcmApplicable",render:function(e){return Object(a.a)(e),Object(z.jsx)(v.L,{type:"switch",id:"switch-success",defaultChecked:!0})}})})})]})})})})]})]}),Object(z.jsxs)(v.m,{className:"invoice-padding invoice-product-details",children:[Le.map((function(e,t){var n,a,i,s,r,l,o,d,u,j,b,p,f,h,g,I;return Object(z.jsx)("div",{className:"repeater-wrapper",children:Object(z.jsx)(v.jb,{children:Object(z.jsxs)(v.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(z.jsxs)(v.jb,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(z.jsxs)(v.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-4 col-sm-12",children:[Object(z.jsx)(v.u,{className:"col-title mb-md-50 mb-0",children:"Item"}),Object(z.jsx)(O.a,{control:Pe,name:"rows[".concat(t,"].serviceId"),rules:{required:!0},render:function(e){var n,a,i=e.field,s=e.ref;return Object(z.jsx)(x.a,Object(c.a)(Object(c.a)({},i),{},{inputRef:s,className:N()("react-select",{"is-invalid":null===(n=Fe.rows)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.serviceId}),classNamePrefix:"select",options:w,value:w.find((function(e){return e.id===i.value})),onChange:function(e){i.onChange(e.id),Je(t,!1,!1,!1,!1,!0)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),(null===(n=Fe.rows)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.serviceId)&&Object(z.jsx)(v.I,{children:null===(i=Fe.rows)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.serviceId.message}),Object(z.jsx)(O.a,{id:"rows_".concat(t,"_description"),name:"rows[".concat(t,"].description"),control:Pe,render:function(e){var n,a,i=e.field;return Object(z.jsx)(v.L,Object(c.a)({className:"mt-1",invalid:(null===(n=Fe.rows)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.description)&&!0,onInput:function(e){i.onChange(e),Je(t,!0,!1,!1,!1,!1)}},i))}})]}),Object(z.jsxs)(v.B,{className:"my-lg-0 my-2 col-lg-2 col-sm-12",children:[Object(z.jsx)(v.u,{className:"col-title mb-md-2 mb-0",children:"SAC Code"}),Object(z.jsx)(O.a,{id:"rows_".concat(t,"_sacCode"),name:"rows[".concat(t,"].sacCode"),control:Pe,render:function(e){var n,a,i=e.field;return Object(z.jsx)(v.L,Object(c.a)({type:"text",invalid:(null===(n=Fe.rows)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.sacCode)&&!0,onInput:function(e){i.onChange(e),Je(t,!1,!0,!0,!1,!1)}},i))}}),(null===(r=Fe.rows)||void 0===r||null===(l=r[t])||void 0===l?void 0:l.sacCode)&&Object(z.jsx)(v.I,{children:null===(o=Fe.rows)||void 0===o||null===(d=o[t])||void 0===d?void 0:d.sacCode.message})]}),Object(z.jsxs)(v.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(z.jsx)(v.u,{className:"col-title mb-md-2 mb-0",children:"Price"}),Object(z.jsx)(O.a,{id:"rows_".concat(t,"_price"),name:"rows[".concat(t,"].price"),control:Pe,render:function(e){var n,a,i=e.field;return Object(z.jsx)(v.L,Object(c.a)(Object(c.a)({type:"number",id:"input_rows_".concat(t,"_price"),onInput:function(e){i.onChange(e),console.log(e),Je(t,!1,!0,!1,!1,!1)}},i),{},{invalid:(null===(n=Fe.rows)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.price)&&!0}))}}),(null===(u=Fe.rows)||void 0===u||null===(j=u[t])||void 0===j?void 0:j.price)&&Object(z.jsx)(v.I,{children:null===(b=Fe.rows)||void 0===b||null===(p=b[t])||void 0===p?void 0:p.price.message})]}),Object(z.jsxs)(v.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(z.jsx)(v.u,{className:"col-title mb-md-50 mb-0",children:"Tax Rate"}),Object(z.jsx)(O.a,{control:Pe,name:"rows[".concat(t,"].taxGroupId"),rules:{required:!0},render:function(e){var n,a,i=e.field,s=e.ref;return Object(z.jsx)(x.a,Object(c.a)(Object(c.a)({},i),{},{inputRef:s,className:N()("react-select",{"is-invalid":null===(n=Fe.rows)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.taxGroupId}),classNamePrefix:"select",options:V,value:V.find((function(e){return e.id===i.value})),onChange:function(e){i.onChange(e.id),Je(t,!1,!0,!1,!0,!1)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),(null===(f=Fe.rows)||void 0===f||null===(h=f[t])||void 0===h?void 0:h.taxGroupId)&&Object(z.jsx)(v.I,{children:null===(g=Fe.rows)||void 0===g||null===(I=g[t])||void 0===I?void 0:I.taxGroupId.message}),!e.isTaxApplicable&&Object(z.jsx)(O.a,{control:Pe,name:"rows[".concat(t,"].exemptionReasonId"),rules:{required:!0},render:function(e){var n,a,i=e.field,s=e.ref;return Object(z.jsx)(x.a,Object(c.a)(Object(c.a)({},i),{},{inputRef:s,className:N()("react-select mt-1",{"is-invalid":null===(n=Fe.rows)||void 0===n||null===(a=n[t])||void 0===a?void 0:a.taxGroupId}),classNamePrefix:"select",options:Ne,value:Ne.find((function(e){return e.id===i.value})),onChange:function(e){i.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}})]}),Object(z.jsxs)(v.B,{className:"my-lg-0 mt-2",lg:"1",sm:"12",children:[Object(z.jsx)(v.u,{className:"col-title mb-md-50 mb-0",children:"Amount"}),e.subTotalAmount]})]}),Object(z.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(z.jsx)(m.a,{size:18,className:"cursor-pointer",onClick:function(){_e(t),De()}})})]})})},e.id)})),Object(z.jsx)(v.jb,{className:"mt-1",children:Object(z.jsx)(v.B,{sm:"12",className:"px-0",children:Object(z.jsxs)(v.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){return Ee()},children:[Object(z.jsx)(p.a,{size:14,className:"me-25"})," ",Object(z.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]}),Object(z.jsx)(v.m,{className:"invoice-padding",children:Object(z.jsxs)(v.jb,{className:"invoice-sales-total-wrapper",children:[Object(z.jsx)(v.B,{className:"mt-md-0 mt-3",md:{size:"6",order:1},xs:{size:12,order:2}}),Object(z.jsx)(v.B,{className:"d-flex justify-content-end",md:{size:"6",order:2},xs:{size:12,order:1},children:Object(z.jsxs)("div",{className:"invoice-total-wrapper",children:[Object(z.jsxs)("div",{className:"invoice-total-item",children:[Object(z.jsx)("p",{className:"invoice-total-title",children:"Pre Tax Amount:"}),Object(z.jsx)("p",{className:"invoice-total-amount",children:Q})]}),fe.map((function(e,t){return Object(z.jsxs)("div",{className:"invoice-total-item",children:[Object(z.jsx)("p",{className:"invoice-total-title",children:null===e||void 0===e?void 0:e.taxName}),Object(z.jsx)("p",{className:"invoice-total-amount",children:null===e||void 0===e?void 0:e.taxAmount})]},t)})),Object(z.jsx)("hr",{className:"my-50"}),Object(z.jsxs)("div",{className:"invoice-total-item",children:[Object(z.jsx)("p",{className:"invoice-total-title",children:"Total Payable:"}),Object(z.jsx)("p",{className:"invoice-total-amount",children:Z})]})]})})]})}),Object(z.jsx)("hr",{className:"invoice-spacing mt-0"}),Object(z.jsx)(v.m,{className:"invoice-padding py-0",children:Object(z.jsx)(v.jb,{children:Object(z.jsx)(v.B,{children:Object(z.jsxs)("div",{className:"mb-2",children:[Object(z.jsx)(v.O,{for:"note",className:"form-label fw-bold",children:"Note:"}),Object(z.jsx)(O.a,{id:"note",name:"note",control:Pe,render:function(e){var t=e.field;return Object(z.jsx)(v.L,Object(c.a)({type:"textarea",value:t.value,invalid:Fe.note&&!0},t))}})]})})})})]})}),Object(z.jsxs)(v.B,{xl:2,md:4,sm:12,children:[Object(z.jsx)(v.l,{className:"invoice-action-wrapper",children:Object(z.jsxs)(v.m,{children:[Object(z.jsx)(v.i,{color:"primary",type:"submit",block:!0,outline:!0,className:"mb-75",children:"Save"}),Object(z.jsx)(v.i,{color:"warning",block:!0,outline:!0,tag:S.b,to:"/invoice/list",children:"Cancel"})]})}),Object(z.jsx)("div",{className:"mt-2",children:Object(z.jsxs)("div",{className:"invoice-payment-option",children:[Object(z.jsx)("p",{className:"mb-50",children:"Accept payments via"}),Object(z.jsx)(O.a,{control:Pe,name:"bankAccountId",rules:{required:!0},render:function(e){var t=e.field,n=e.ref;return Object(z.jsx)(x.a,Object(c.a)(Object(c.a)({},t),{},{inputRef:n,className:N()("react-select mt-1",{"is-invalid":Fe.bankAccountId}),classNamePrefix:"select",options:H,value:H.find((function(e){return e.id===t.value})),onChange:function(e){t.onChange(e.id),function(e){var t=H.find((function(t){return t.id===e}));pe(t),Be("bankAccountBankName",t.bankName),Be("bankAccountBranchName",t.branchAddress),Be("bankAccountHolderName",t.accountHolderName),Be("bankAccountId",t.id),Be("bankAccountIfscCode",t.ifscCode),Be("bankAccountNumber",t.accountNumber)}(e.id)},getOptionLabel:function(e){return e.accountHolderName},getOptionValue:function(e){return e.id}}))}})]})})]})]})})})};t.default=function(){return Object(z.jsx)("div",{className:"invoice-add-wrapper",children:Object(z.jsx)(B,{})})}},499:function(e,t,n){},503:function(e,t,n){},513:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var a=function(){return null===localStorage.getItem("activeOrganization")?null:JSON.parse(localStorage.getItem("activeOrganization")).id},c=function(){return null===localStorage.getItem("activeOrganization")?null:JSON.parse(localStorage.getItem("activeOrganization"))}},514:function(e,t,n){},671:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return c}));var a=function(e,t,n){var a=0;return 1===n?a=parseFloat(e)-parseFloat(e)*(100/(100+parseFloat(t))):2===n&&(a=parseFloat(e)*parseFloat(t)/100),parseFloat(a)},c=function(e){return JSON.parse(e.replace(/\\/g,""))}}}]);
//# sourceMappingURL=60.ec1a5807.chunk.js.map