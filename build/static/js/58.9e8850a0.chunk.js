(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[58],{1677:function(e,t,n){"use strict";n.r(t);var c=n(16),i=n(134),a=n(4),s=n(17),l=n(2),r=n.n(l),o=n(1),d=n(10),m=n(131),j=n(5),b=n.n(j),u=n(132),O=n(144),h=n(6),f=n(819),x=n(826),v=n(500),p=n(498),g=n(510),N=n(511),y=n(513),_=n(90),B=(n(514),n(502),n(499),n(503),n(12)),S=Object(y.b)(),C=function(){var e,t=/^[0-9\- ]{10,10}$/,n=Object(d.f)({}),l=Object(u.b)(),j=Object(o.useState)([]),y=Object(s.a)(j,2),C=y[0],E=y[1],P=Object(o.useState)([]),I=Object(s.a)(P,2),T=I[0],q=I[1],w=Object(o.useState)([]),k=Object(s.a)(w,2),A=k[0],L=k[1],z=Object(o.useState)([]),G=Object(s.a)(z,2),J=G[0],Z=G[1],D=Object(o.useState)([]),R=Object(s.a)(D,2),V=R[0],M=R[1],U=Object(o.useState)([]),$=Object(s.a)(U,2),F=$[0],H=$[1],K=Object(o.useState)(null),Q=Object(s.a)(K,2),W=Q[0],X=Q[1],Y=g.f().shape({clientType:g.e().default(2),organization:g.e().default(S),uniqueIdentity:g.h().required("Please Enter Unique Identity"),contactPersonName:g.h().required("Please Enter a Contact Person Name"),name:g.h().when("clientType",{is:function(e){return 2===e},then:g.h().required("Please Enter Business Name.")}),contactNumber:g.h().required("Please Enter Conatct Number").matches(t,{message:"Phone number is not valid",excludeEmptyString:!0}),email:g.h().email("Please Enter valid Email").required("Please Enter valid Email"),businessEntity:g.h().when("clientType",{is:function(e){return 2===e},then:g.h().required("Please Select Business Enity.")}),gstRegistrationType:g.h().required("Please select a GST Type"),gstin:g.h().required("Please Enter GSTIN No"),placeOfSupply:g.h().required("Please select Place Of Supply"),currency:g.h(),billingAddressZip:g.h().matches(/^[0-9\- ]{6,6}$/,{message:"Zip Code is not valid",excludeEmptyString:!0}),contact_info:g.a().of(g.f().shape({name:g.h().required("Please Enter A Name"),email:g.h().email().required("Please Enter valid Email"),designation:g.h().required("Please Enter Designation"),contactNumber:g.h().required("Please Enter Conatct Number").matches(t,{message:"Phone number is not valid",excludeEmptyString:!0})})).min(1,"Please Enter atleast one contact Info")}),ee=Object(p.f)({resolver:Object(N.a)(Y),defaultValues:Y.cast()}),te=ee.handleSubmit,ne=ee.control,ce=ee.formState.errors,ie=Object(p.e)({name:"contact_info",control:ne}),ae=ie.fields,se=ie.append,le=ie.remove,re=function(){var e=Object(a.a)(r.a.mark((function e(t){var n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.contact_info,H((function(e){return[].concat(Object(i.a)(e),Object(i.a)(n))})),delete t.contact_info,e.next=5,l(Object(O.a)(t));case 5:c=e.sent,X(c.payload.client.id);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=!0;ne._formValues.contact_info.length>0&&(e=!1),se({organizationId:S,contactId:0,name:"",email:"",contactNumber:"",designation:"",primaryStatus:e})},de=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(B.jsxs)(_.jb,{className:"mb-1",children:[Object(B.jsx)(_.O,{sm:"3",size:"lg",className:b()("form-label ".concat(n?"required":"")),for:t,children:e}),Object(B.jsxs)(_.B,{sm:"9",children:[Object(B.jsx)(p.a,{id:t,name:t,control:ne,render:function(e){var n=e.field;return Object(B.jsx)(_.L,Object(c.a)({invalid:ce[t]&&!0},n))}}),ce[t]&&Object(B.jsx)(_.I,{children:ce[t].message})]})]})},me=function(e,t,n){var i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(B.jsxs)(_.jb,{className:"mb-1",children:[Object(B.jsx)(_.O,{sm:"3",size:"lg",className:b()("form-label ".concat(a?"required":"")),for:t,children:e}),Object(B.jsxs)(_.B,{sm:"9",children:[Object(B.jsx)(p.a,{control:ne,name:t,id:t,render:function(e){var i=e.field,a=e.ref;return Object(B.jsx)(v.a,Object(c.a)(Object(c.a)({inputRef:a,className:b()("react-select",{"is-invalid":ce[t]})},i),{},{classNamePrefix:"select",options:n,value:n.find((function(e){return e.id===i.value})),onChange:function(e){return i.onChange(e.id)},getOptionLabel:function(e){return e.name},getOptionValue:function(e){return e.id}}))}}),ce[t]&&Object(B.jsx)(_.I,{className:"text-danger",children:null===(i=ce[t])||void 0===i?void 0:i.message})]})]})};return Object(o.useEffect)((function(){h.a.post("/businessentities/list").then((function(e){var t=e.data;E(t.businessentities)})),h.a.post("/countries/list").then((function(e){var t=e.data;L(t.countries)})),h.a.post("/currencies/list").then((function(e){var t=e.data;Z(t.currencies)})),h.a.post("/gstregistrationtypes/list").then((function(e){var t=e.data;M(t.gstregistrationtypes)})),h.a.post("/states/list").then((function(e){var t=e.data;q(t.states)})),oe(),null!==W&&function(e){if(F.length>0){F.forEach((function(t,n){F[n].contactId=e}));var t=F;l(Object(O.b)({rows:t})),n("/client/view/".concat(e))}}(W)}),[F,W]),Object(B.jsxs)("form",{onSubmit:te(re),children:[Object(B.jsxs)(_.l,{className:"invoice-preview-card",children:[Object(B.jsx)(_.p,{children:Object(B.jsx)(_.v,{children:" Add Client"})}),Object(B.jsxs)(_.m,{className:"pb-0",children:[Object(B.jsxs)(_.jb,{children:[Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:Object(B.jsxs)(_.jb,{className:"mb-1",children:[Object(B.jsx)(_.O,{sm:"3",size:"lg",className:"form-label required",for:"contactPersonName",children:"Client Type"}),Object(B.jsxs)(_.B,{sm:"9",children:[Object(B.jsxs)("div",{className:"form-check form-check-primary form-check-inline",children:[Object(B.jsx)(p.a,{name:"clientType",id:"clientType_2",control:ne,render:function(e){var t=e.field;return Object(B.jsx)(_.L,Object(c.a)(Object(c.a)({name:"clientType",id:"clientType_2",type:"radio"},t),{},{onInput:function(e){return e.target.value},value:1}))}}),Object(B.jsx)(_.O,{className:"form-check-label",for:"clientType_2",children:"Business"})]}),Object(B.jsxs)("div",{className:"form-check form-check-primary form-check-inline",children:[Object(B.jsx)(p.a,{name:"clientType",id:"clientType_1",control:ne,render:function(e){var t=e.field;return Object(B.jsx)(_.L,Object(c.a)(Object(c.a)({name:"clientType",id:"clientType_1",type:"radio"},t),{},{onInput:function(e){return e.target.value},value:2}))}}),Object(B.jsx)(_.O,{className:"form-check-label",for:"clientType_1",children:"Individual"})]})]})]})}),Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:de("Unique No","uniqueIdentity",!0)})]}),Object(B.jsxs)(_.jb,{children:[Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:de("Contact Person Name","contactPersonName",!0)}),Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:de("Business Name","name",!0)})]}),Object(B.jsxs)(_.jb,{children:[Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:de("Mobile Number","contactNumber")}),Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:de("Email ID","email",!0)})]}),Object(B.jsx)(_.jb,{children:Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:me("Business Entity","businessEntity",C,!0)})})]}),Object(B.jsx)("hr",{className:"invoice-spacing"}),ce.contact_info&&Object(B.jsx)("p",{className:"text-danger ms-2",children:null===(e=ce.contact_info)||void 0===e?void 0:e.message}),Object(B.jsxs)(_.m,{className:"invoice-padding invoice-product-details",children:[ae.map((function(e,t){var n,i,a,s,l,r,o,d,m,j,b,u,O,h,x,v;return Object(B.jsx)("div",{className:"repeater-wrapper",children:Object(B.jsx)(_.jb,{children:Object(B.jsxs)(_.B,{className:"d-lg-flex product-details-border position-relative pe-0",sm:"12",children:[Object(B.jsxs)(_.jb,{className:"w-100 pe-lg-0 pe-1 py-2",children:[Object(B.jsxs)(_.B,{className:"mb-lg-0 mb-2 mt-lg-0 mt-2 col-lg-3 col-sm-12",children:[Object(B.jsx)(_.u,{className:"col-title mb-md-50 mb-0",children:"First Name"}),Object(B.jsx)(p.a,{control:ne,id:"contact_info_firstName",name:"contact_info[".concat(t,"].name"),render:function(e){var n,i,a=e.field;return Object(B.jsx)(_.L,Object(c.a)({type:"text",onChange:function(e){a.onChange(e)},invalid:(null===(n=ce.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.name)&&!0},a))}}),(null===(n=ce.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.name)&&Object(B.jsx)(_.I,{children:null===(a=ce.contact_info)||void 0===a||null===(s=a[t])||void 0===s?void 0:s.name.message})]}),Object(B.jsxs)(_.B,{className:"my-lg-0 my-2 col-lg-3 col-sm-12",children:[Object(B.jsx)(_.u,{className:"col-title mb-md-2 mb-0 ",children:"Email"}),Object(B.jsx)(p.a,{control:ne,id:"contact_info_email",name:"contact_info[".concat(t,"].email"),render:function(e){var n,i,a=e.field;return Object(B.jsx)(_.L,Object(c.a)({type:"email",onChange:function(e){a.onChange(e)},invalid:(null===(n=ce.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.email)&&!0},a))}}),(null===(l=ce.contact_info)||void 0===l||null===(r=l[t])||void 0===r?void 0:r.email)&&Object(B.jsx)(_.I,{children:null===(o=ce.contact_info)||void 0===o||null===(d=o[t])||void 0===d?void 0:d.email.message})]}),Object(B.jsxs)(_.B,{className:"my-lg-0 my-2",lg:"2",sm:"12",children:[Object(B.jsx)(_.u,{className:"col-title mb-md-2 mb-0",children:"Mobile"}),Object(B.jsx)(p.a,{control:ne,id:"contact_info_contactNumber",name:"contact_info[".concat(t,"].contactNumber"),render:function(e){var n,i,a=e.field;return Object(B.jsx)(_.L,Object(c.a)({type:"number",onChange:function(e){a.onChange(e)},invalid:(null===(n=ce.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.contactNumber)&&!0},a))}}),(null===(m=ce.contact_info)||void 0===m||null===(j=m[t])||void 0===j?void 0:j.contactNumber)&&Object(B.jsx)(_.I,{children:null===(b=ce.contact_info)||void 0===b||null===(u=b[t])||void 0===u?void 0:u.contactNumber.message})]}),Object(B.jsxs)(_.B,{className:"my-lg-0 mt-2",lg:"2",sm:"12",children:[Object(B.jsx)(_.u,{className:"col-title mb-md-50 mb-0",children:"Designation"}),Object(B.jsx)(p.a,{control:ne,id:"contact_info_designation",name:"contact_info[".concat(t,"].designation"),render:function(e){var n,i,a=e.field;return Object(B.jsx)(_.L,Object(c.a)({type:"text onChange={(val) => { field.onChange(val)}}",invalid:(null===(n=ce.contact_info)||void 0===n||null===(i=n[t])||void 0===i?void 0:i.designation)&&!0},a))}}),(null===(O=ce.contact_info)||void 0===O||null===(h=O[t])||void 0===h?void 0:h.designation)&&Object(B.jsx)(_.I,{children:null===(x=ce.contact_info)||void 0===x||null===(v=x[t])||void 0===v?void 0:v.designation.message})]}),Object(B.jsxs)(_.B,{className:"my-lg-0 mt-2",lg:"1",sm:"12",children:[Object(B.jsx)(_.u,{className:"col-title mb-md-50 mb-0",children:"Primary"}),Object(B.jsx)("div",{className:"form-switch form-check-primary",children:Object(B.jsx)(p.a,{control:ne,id:"contact_info_primaryStatus",name:"contact_info[".concat(t,"].primaryStatus"),render:function(e){var t=e.field;return Object(B.jsx)(_.L,Object(c.a)(Object(c.a)({type:"switch",onChange:function(e){t.onChange(e)}},t),{},{defaultChecked:t.value}))}})})]})]}),Object(B.jsx)("div",{className:"d-lg-flex justify-content-center border-start invoice-product-actions py-50 px-25",children:Object(B.jsx)(f.a,{size:18,className:"cursor-pointer",onClick:function(){le(t)}})})]})})},e.id)})),Object(B.jsx)(_.jb,{className:"mt-1",children:Object(B.jsx)(_.B,{sm:"12",className:"px-0",children:Object(B.jsxs)(_.i,{color:"primary",size:"sm",className:"btn-add-new",onClick:function(){return oe()},children:[Object(B.jsx)(x.a,{size:14,className:"me-25"})," ",Object(B.jsx)("span",{className:"align-middle",children:"Add Item"})]})})})]}),Object(B.jsx)("hr",{className:"invoice-spacing"}),Object(B.jsxs)(_.m,{children:[Object(B.jsxs)(_.jb,{children:[Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:me("GST Type","gstRegistrationType",V,!0)}),Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:me("Place of Supply","placeOfSupply",T,!0)})]}),Object(B.jsxs)(_.jb,{children:[Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:de("GSTIN","gstin",!0)}),Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:me("Currency","currency",J,!0)})]})]}),Object(B.jsxs)(_.m,{className:"",children:[Object(B.jsx)("h4",{className:"text-primary",children:"Billing Address"}),Object(B.jsxs)(_.jb,{children:[Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:de("Address Line1","billingAddressLine1")}),Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:de("Address Line2","billingAddressLine2")})]}),Object(B.jsxs)(_.jb,{children:[Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:de("City","billingAddressCity")}),Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:me("State","billingAddressState",T)})]}),Object(B.jsxs)(_.jb,{children:[Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:me("Country","billingAddressCountry",A)}),Object(B.jsx)(_.B,{md:"6",className:"mb-1",children:de("Zip Code","billingAddressZip")})]})]})]}),Object(B.jsx)(_.l,{children:Object(B.jsx)(_.m,{children:Object(B.jsxs)("div",{className:"modal-footer border-0",children:[Object(B.jsx)(_.i,{color:"warning",outline:!0,tag:m.b,to:"/client/list",children:"Cancel"}),Object(B.jsx)(_.i,{color:"primary",type:"submit",children:"Save"})]})})})]})};t.default=function(){return Object(B.jsx)("div",{className:"invoice-add-wrapper",children:Object(B.jsx)(_.jb,{className:"invoice-add",children:Object(B.jsx)(_.B,{xl:12,md:12,sm:12,children:Object(B.jsx)(C,{})})})})}},499:function(e,t,n){},503:function(e,t,n){},513:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return i}));var c=function(){return null===localStorage.getItem("activeOrganization")?null:JSON.parse(localStorage.getItem("activeOrganization")).id},i=function(){return null===localStorage.getItem("activeOrganization")?null:JSON.parse(localStorage.getItem("activeOrganization"))}},514:function(e,t,n){}}]);
//# sourceMappingURL=58.9e8850a0.chunk.js.map