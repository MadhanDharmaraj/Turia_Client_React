{"ast":null,"code":"import _objectSpread from\"/var/www/html/Turia_Client_React/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/var/www/html/Turia_Client_React/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectWithoutProperties from\"/var/www/html/Turia_Client_React/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";var _excluded=[\"item\",\"groupOpen\",\"menuHover\",\"activeItem\",\"parentItem\",\"groupActive\",\"setGroupOpen\",\"menuCollapsed\",\"setGroupActive\",\"currentActiveGroup\",\"setCurrentActiveGroup\"];// ** React Imports\nimport{useEffect}from'react';import{Link,useLocation}from'react-router-dom';// ** Third Party Components\nimport classnames from'classnames';import{useTranslation}from'react-i18next';// ** Reactstrap Imports\nimport{Collapse,Badge}from'reactstrap';// ** Vertical Menu Items Component\nimport VerticalNavMenuItems from'./VerticalNavMenuItems';// ** Utils\nimport{hasActiveChild,removeChildren}from'@layouts/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VerticalNavMenuGroup=function VerticalNavMenuGroup(_ref){var item=_ref.item,groupOpen=_ref.groupOpen,menuHover=_ref.menuHover,activeItem=_ref.activeItem,parentItem=_ref.parentItem,groupActive=_ref.groupActive,setGroupOpen=_ref.setGroupOpen,menuCollapsed=_ref.menuCollapsed,setGroupActive=_ref.setGroupActive,currentActiveGroup=_ref.currentActiveGroup,setCurrentActiveGroup=_ref.setCurrentActiveGroup,rest=_objectWithoutProperties(_ref,_excluded);// ** Hooks\nvar _useTranslation=useTranslation(),t=_useTranslation.t;var location=useLocation();// ** Current Val\nvar currentURL=useLocation().pathname;// ** Toggle Open Group\nvar toggleOpenGroup=function toggleOpenGroup(item,parent){var openGroup=groupOpen;var activeGroup=groupActive;// ** If Group is already open and clicked, close the group\nif(openGroup.includes(item.id)){openGroup.splice(openGroup.indexOf(item.id),1);// ** If clicked Group has open group children, Also remove those children to close those groups\nif(item.children){removeChildren(item.children,openGroup,groupActive);}}else if(activeGroup.includes(item.id)||currentActiveGroup.includes(item.id)){// ** If Group clicked is Active Group\n// ** If Active group is closed and clicked again, we should open active group else close active group\nif(!activeGroup.includes(item.id)&&currentActiveGroup.includes(item.id)){activeGroup.push(item.id);}else{activeGroup.splice(activeGroup.indexOf(item.id),1);}// ** Update Active Group\nsetGroupActive(_toConsumableArray(activeGroup));}else if(parent){// ** If Group clicked is the child of a open group, first remove all the open groups under that parent\nif(parent.children){removeChildren(parent.children,openGroup,groupActive);}// ** After removing all the open groups under that parent, add the clicked group to open group array\nif(!openGroup.includes(item.id)){openGroup.push(item.id);}}else{// ** If clicked on another group that is not active or open, create openGroup array from scratch\n// ** Empty Open Group array\nopenGroup=[];// ** Push current clicked group item to Open Group array\nif(!openGroup.includes(item.id)){openGroup.push(item.id);}}setGroupOpen(_toConsumableArray(openGroup));};// ** On Group Item Click\nvar onCollapseClick=function onCollapseClick(e,item){toggleOpenGroup(item,parentItem);e.preventDefault();};// ** Checks url & updates active item\nuseEffect(function(){if(hasActiveChild(item,currentURL)){if(!groupActive.includes(item.id))groupActive.push(item.id);}else{var index=groupActive.indexOf(item.id);if(index>-1)groupActive.splice(index,1);}setGroupActive(_toConsumableArray(groupActive));setCurrentActiveGroup(_toConsumableArray(groupActive));setGroupOpen([]);},[location]);// ** Returns condition to add open class\nvar openClassCondition=function openClassCondition(id){if(menuCollapsed&&menuHover||menuCollapsed===false){if(groupActive.includes(id)||groupOpen.includes(id)){return true;}}else if(groupActive.includes(id)&&menuCollapsed&&menuHover===false){return false;}else{return null;}};return/*#__PURE__*/_jsxs(\"li\",{className:classnames('nav-item has-sub',{open:openClassCondition(item.id),'menu-collapsed-open':groupActive.includes(item.id),'sidebar-group-active':groupActive.includes(item.id)||groupOpen.includes(item.id)||currentActiveGroup.includes(item.id)}),children:[/*#__PURE__*/_jsxs(Link,{className:\"d-flex align-items-center\",to:\"/\",onClick:function onClick(e){return onCollapseClick(e,item);},children:[item.icon,/*#__PURE__*/_jsx(\"span\",{className:\"menu-title text-truncate\",children:t(item.title)}),item.badge&&item.badgeText?/*#__PURE__*/_jsx(Badge,{className:\"ms-auto me-1\",color:item.badge,pill:true,children:item.badgeText}):null]}),/*#__PURE__*/_jsx(\"ul\",{className:\"menu-content\",children:/*#__PURE__*/_jsx(Collapse,{isOpen:groupActive&&groupActive.includes(item.id)||groupOpen&&groupOpen.includes(item.id),children:/*#__PURE__*/_jsx(VerticalNavMenuItems,_objectSpread(_objectSpread({},rest),{},{items:item.children,groupActive:groupActive,setGroupActive:setGroupActive,currentActiveGroup:currentActiveGroup,setCurrentActiveGroup:setCurrentActiveGroup,groupOpen:groupOpen,setGroupOpen:setGroupOpen,parentItem:item,menuCollapsed:menuCollapsed,menuHover:menuHover,activeItem:activeItem}))})})]});};export default VerticalNavMenuGroup;","map":{"version":3,"names":["useEffect","Link","useLocation","classnames","useTranslation","Collapse","Badge","VerticalNavMenuItems","hasActiveChild","removeChildren","VerticalNavMenuGroup","item","groupOpen","menuHover","activeItem","parentItem","groupActive","setGroupOpen","menuCollapsed","setGroupActive","currentActiveGroup","setCurrentActiveGroup","rest","t","location","currentURL","pathname","toggleOpenGroup","parent","openGroup","activeGroup","includes","id","splice","indexOf","children","push","onCollapseClick","e","preventDefault","index","openClassCondition","open","icon","title","badge","badgeText"],"sources":["/var/www/html/Turia_Client_React/src/@core/layouts/components/menu/vertical-menu/VerticalNavMenuGroup.js"],"sourcesContent":["// ** React Imports\nimport { useEffect } from 'react'\nimport { Link, useLocation } from 'react-router-dom'\n\n// ** Third Party Components\nimport classnames from 'classnames'\nimport { useTranslation } from 'react-i18next'\n\n// ** Reactstrap Imports\nimport { Collapse, Badge } from 'reactstrap'\n\n// ** Vertical Menu Items Component\nimport VerticalNavMenuItems from './VerticalNavMenuItems'\n\n// ** Utils\nimport { hasActiveChild, removeChildren } from '@layouts/utils'\n\nconst VerticalNavMenuGroup = ({\n  item,\n  groupOpen,\n  menuHover,\n  activeItem,\n  parentItem,\n  groupActive,\n  setGroupOpen,\n  menuCollapsed,\n  setGroupActive,\n  currentActiveGroup,\n  setCurrentActiveGroup,\n  ...rest\n}) => {\n  // ** Hooks\n  const { t } = useTranslation()\n  const location = useLocation()\n\n  // ** Current Val\n  const currentURL = useLocation().pathname\n\n  // ** Toggle Open Group\n  const toggleOpenGroup = (item, parent) => {\n    let openGroup = groupOpen\n    const activeGroup = groupActive\n\n    // ** If Group is already open and clicked, close the group\n    if (openGroup.includes(item.id)) {\n      openGroup.splice(openGroup.indexOf(item.id), 1)\n\n      // ** If clicked Group has open group children, Also remove those children to close those groups\n      if (item.children) {\n        removeChildren(item.children, openGroup, groupActive)\n      }\n    } else if (activeGroup.includes(item.id) || currentActiveGroup.includes(item.id)) {\n      // ** If Group clicked is Active Group\n\n      // ** If Active group is closed and clicked again, we should open active group else close active group\n      if (!activeGroup.includes(item.id) && currentActiveGroup.includes(item.id)) {\n        activeGroup.push(item.id)\n      } else {\n        activeGroup.splice(activeGroup.indexOf(item.id), 1)\n      }\n\n      // ** Update Active Group\n      setGroupActive([...activeGroup])\n    } else if (parent) {\n      // ** If Group clicked is the child of a open group, first remove all the open groups under that parent\n      if (parent.children) {\n        removeChildren(parent.children, openGroup, groupActive)\n      }\n\n      // ** After removing all the open groups under that parent, add the clicked group to open group array\n      if (!openGroup.includes(item.id)) {\n        openGroup.push(item.id)\n      }\n    } else {\n      // ** If clicked on another group that is not active or open, create openGroup array from scratch\n\n      // ** Empty Open Group array\n      openGroup = []\n\n      // ** Push current clicked group item to Open Group array\n      if (!openGroup.includes(item.id)) {\n        openGroup.push(item.id)\n      }\n    }\n    setGroupOpen([...openGroup])\n  }\n\n  // ** On Group Item Click\n  const onCollapseClick = (e, item) => {\n    toggleOpenGroup(item, parentItem)\n\n    e.preventDefault()\n  }\n\n  // ** Checks url & updates active item\n  useEffect(() => {\n    if (hasActiveChild(item, currentURL)) {\n      if (!groupActive.includes(item.id)) groupActive.push(item.id)\n    } else {\n      const index = groupActive.indexOf(item.id)\n      if (index > -1) groupActive.splice(index, 1)\n    }\n    setGroupActive([...groupActive])\n    setCurrentActiveGroup([...groupActive])\n    setGroupOpen([])\n  }, [location])\n\n  // ** Returns condition to add open class\n  const openClassCondition = id => {\n    if ((menuCollapsed && menuHover) || menuCollapsed === false) {\n      if (groupActive.includes(id) || groupOpen.includes(id)) {\n        return true\n      }\n    } else if (groupActive.includes(id) && menuCollapsed && menuHover === false) {\n      return false\n    } else {\n      return null\n    }\n  }\n\n  return (\n    <li\n      className={classnames('nav-item has-sub', {\n        open: openClassCondition(item.id),\n        'menu-collapsed-open': groupActive.includes(item.id),\n        'sidebar-group-active':\n          groupActive.includes(item.id) || groupOpen.includes(item.id) || currentActiveGroup.includes(item.id)\n      })}\n    >\n      <Link className='d-flex align-items-center' to='/' onClick={e => onCollapseClick(e, item)}>\n        {item.icon}\n        <span className='menu-title text-truncate'>{t(item.title)}</span>\n\n        {item.badge && item.badgeText ? (\n          <Badge className='ms-auto me-1' color={item.badge} pill>\n            {item.badgeText}\n          </Badge>\n        ) : null}\n      </Link>\n\n      {/* Render Child Recursively Through VerticalNavMenuItems Component */}\n      <ul className='menu-content'>\n        <Collapse isOpen={(groupActive && groupActive.includes(item.id)) || (groupOpen && groupOpen.includes(item.id))}>\n          <VerticalNavMenuItems\n            {...rest}\n            items={item.children}\n            groupActive={groupActive}\n            setGroupActive={setGroupActive}\n            currentActiveGroup={currentActiveGroup}\n            setCurrentActiveGroup={setCurrentActiveGroup}\n            groupOpen={groupOpen}\n            setGroupOpen={setGroupOpen}\n            parentItem={item}\n            menuCollapsed={menuCollapsed}\n            menuHover={menuHover}\n            activeItem={activeItem}\n          />\n        </Collapse>\n      </ul>\n    </li>\n  )\n}\n\nexport default VerticalNavMenuGroup\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}