{"ast":null,"code":"import _objectSpread from\"/var/www/html/Turia_Client_React/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// ** React Imports\nimport{Fragment}from'react';// ** Reactstrap Imports\nimport{Row,Col,Card,Form,Button,CardBody,CardTitle,CardHeader,FormFeedback}from'reactstrap';// ** Third Party Components\nimport*as yup from'yup';import{useForm,Controller}from'react-hook-form';import{yupResolver}from'@hookform/resolvers/yup';// ** Custom Components\nimport InputPasswordToggle from'@components/input-password-toggle';// ** Demo Components\nimport ApiKeysList from'./ApiKeysList';import CreateApiKey from'./CreateApikey';import TwoFactorAuth from'./TwoFactorAuth';import RecentDevices from'./RecentDevices';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var showErrors=function showErrors(field,valueLen,min){if(valueLen===0){return\"\".concat(field,\" field is required\");}else if(valueLen>0&&valueLen<min){return\"\".concat(field,\" must be at least \").concat(min,\" characters\");}else{return'';}};var defaultValues={newPassword:'',currentPassword:'',retypeNewPassword:''};var SecurityTabContent=function SecurityTabContent(){var SignupSchema=yup.object().shape({currentPassword:yup.string().min(8,function(obj){return showErrors('Current Password',obj.value.length,obj.min);}).required(),newPassword:yup.string().min(8,function(obj){return showErrors('New Password',obj.value.length,obj.min);}).required(),retypeNewPassword:yup.string().min(8,function(obj){return showErrors('Retype New Password',obj.value.length,obj.min);}).required().oneOf([yup.ref(\"newPassword\"),null],'Passwords must match')});// ** Hooks\nvar _useForm=useForm({defaultValues:defaultValues,resolver:yupResolver(SignupSchema)}),control=_useForm.control,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var onSubmit=function onSubmit(data){if(Object.values(data).every(function(field){return field.length>0;})){return null;}else{for(var key in data){if(data[key].length===0){setError(key,{type:'manual'});}}}};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{className:\"border-bottom\",children:/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Change Password\"})}),/*#__PURE__*/_jsx(CardBody,{className:\"pt-1\",children:/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsxs(Col,{sm:\"6\",className:\"mb-1\",children:[/*#__PURE__*/_jsx(Controller,{control:control,id:\"currentPassword\",name:\"currentPassword\",render:function render(_ref){var field=_ref.field;return/*#__PURE__*/_jsx(InputPasswordToggle,_objectSpread({label:\"Current Password\",htmlFor:\"currentPassword\",className:\"input-group-merge\",invalid:errors.currentPassword&&true},field));}}),errors.currentPassword&&/*#__PURE__*/_jsx(FormFeedback,{className:\"d-block\",children:errors.currentPassword.message})]})}),/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsxs(Col,{sm:\"6\",className:\"mb-1\",children:[/*#__PURE__*/_jsx(Controller,{control:control,id:\"newPassword\",name:\"newPassword\",render:function render(_ref2){var field=_ref2.field;return/*#__PURE__*/_jsx(InputPasswordToggle,_objectSpread({label:\"New Password\",htmlFor:\"newPassword\",className:\"input-group-merge\",invalid:errors.newPassword&&true},field));}}),errors.newPassword&&/*#__PURE__*/_jsx(FormFeedback,{className:\"d-block\",children:errors.newPassword.message})]}),/*#__PURE__*/_jsxs(Col,{sm:\"6\",className:\"mb-1\",children:[/*#__PURE__*/_jsx(Controller,{control:control,id:\"retypeNewPassword\",name:\"retypeNewPassword\",render:function render(_ref3){var field=_ref3.field;return/*#__PURE__*/_jsx(InputPasswordToggle,_objectSpread({label:\"Retype New Password\",htmlFor:\"retypeNewPassword\",className:\"input-group-merge\",invalid:errors.newPassword&&true},field));}}),errors.retypeNewPassword&&/*#__PURE__*/_jsx(FormFeedback,{className:\"d-block\",children:errors.retypeNewPassword.message})]}),/*#__PURE__*/_jsxs(Col,{xs:12,children:[/*#__PURE__*/_jsx(\"p\",{className:\"fw-bolder\",children:\"Password requirements:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"ps-1 ms-25\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"mb-50\",children:\"Minimum 8 characters long - the more, the better\"}),/*#__PURE__*/_jsx(\"li\",{className:\"mb-50\",children:\"At least one lowercase character\"}),/*#__PURE__*/_jsx(\"li\",{children:\"At least one number, symbol, or whitespace character\"})]})]}),/*#__PURE__*/_jsxs(Col,{className:\"mt-1\",sm:\"12\",children:[/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"me-1\",color:\"primary\",children:\"Save changes\"}),/*#__PURE__*/_jsx(Button,{color:\"secondary\",outline:true,children:\"Cancel\"})]})]})]})})]}),/*#__PURE__*/_jsx(TwoFactorAuth,{}),/*#__PURE__*/_jsx(CreateApiKey,{}),/*#__PURE__*/_jsx(ApiKeysList,{}),/*#__PURE__*/_jsx(RecentDevices,{})]});};export default SecurityTabContent;","map":{"version":3,"names":["Fragment","Row","Col","Card","Form","Button","CardBody","CardTitle","CardHeader","FormFeedback","yup","useForm","Controller","yupResolver","InputPasswordToggle","ApiKeysList","CreateApiKey","TwoFactorAuth","RecentDevices","showErrors","field","valueLen","min","defaultValues","newPassword","currentPassword","retypeNewPassword","SecurityTabContent","SignupSchema","object","shape","string","obj","value","length","required","oneOf","ref","resolver","control","handleSubmit","errors","formState","onSubmit","data","Object","values","every","key","setError","type","message"],"sources":["/var/www/html/Turia_Client_React/src/views/pages/account-settings/SecurityTabContent.js"],"sourcesContent":["// ** React Imports\nimport { Fragment } from 'react'\n\n// ** Reactstrap Imports\nimport { Row, Col, Card, Form, Button, CardBody, CardTitle, CardHeader, FormFeedback } from 'reactstrap'\n\n// ** Third Party Components\nimport * as yup from 'yup'\nimport { useForm, Controller } from 'react-hook-form'\nimport { yupResolver } from '@hookform/resolvers/yup'\n\n// ** Custom Components\nimport InputPasswordToggle from '@components/input-password-toggle'\n\n// ** Demo Components\nimport ApiKeysList from './ApiKeysList'\nimport CreateApiKey from './CreateApikey'\nimport TwoFactorAuth from './TwoFactorAuth'\nimport RecentDevices from './RecentDevices'\n\nconst showErrors = (field, valueLen, min) => {\n  if (valueLen === 0) {\n    return `${field} field is required`\n  } else if (valueLen > 0 && valueLen < min) {\n    return `${field} must be at least ${min} characters`\n  } else {\n    return ''\n  }\n}\n\nconst defaultValues = {\n  newPassword: '',\n  currentPassword: '',\n  retypeNewPassword: ''\n}\n\nconst SecurityTabContent = () => {\n  const SignupSchema = yup.object().shape({\n    currentPassword: yup\n      .string()\n      .min(8, obj => showErrors('Current Password', obj.value.length, obj.min))\n      .required(),\n    newPassword: yup\n      .string()\n      .min(8, obj => showErrors('New Password', obj.value.length, obj.min))\n      .required(),\n    retypeNewPassword: yup\n      .string()\n      .min(8, obj => showErrors('Retype New Password', obj.value.length, obj.min))\n      .required()\n      .oneOf([yup.ref(`newPassword`), null], 'Passwords must match')\n  })\n  // ** Hooks\n  const {\n    control,\n    handleSubmit,\n    formState: { errors }\n  } = useForm({\n    defaultValues,\n    resolver: yupResolver(SignupSchema)\n  })\n\n  const onSubmit = data => {\n    if (Object.values(data).every(field => field.length > 0)) {\n      return null\n    } else {\n      for (const key in data) {\n        if (data[key].length === 0) {\n          setError(key, {\n            type: 'manual'\n          })\n        }\n      }\n    }\n  }\n\n  return (\n    <Fragment>\n      <Card>\n        <CardHeader className='border-bottom'>\n          <CardTitle tag='h4'>Change Password</CardTitle>\n        </CardHeader>\n        <CardBody className='pt-1'>\n          <Form onSubmit={handleSubmit(onSubmit)}>\n            <Row>\n              <Col sm='6' className='mb-1'>\n                <Controller\n                  control={control}\n                  id='currentPassword'\n                  name='currentPassword'\n                  render={({ field }) => (\n                    <InputPasswordToggle\n                      label='Current Password'\n                      htmlFor='currentPassword'\n                      className='input-group-merge'\n                      invalid={errors.currentPassword && true}\n                      {...field}\n                    />\n                  )}\n                />\n                {errors.currentPassword && (\n                  <FormFeedback className='d-block'>{errors.currentPassword.message}</FormFeedback>\n                )}\n              </Col>\n            </Row>\n            <Row>\n              <Col sm='6' className='mb-1'>\n                <Controller\n                  control={control}\n                  id='newPassword'\n                  name='newPassword'\n                  render={({ field }) => (\n                    <InputPasswordToggle\n                      label='New Password'\n                      htmlFor='newPassword'\n                      className='input-group-merge'\n                      invalid={errors.newPassword && true}\n                      {...field}\n                    />\n                  )}\n                />\n                {errors.newPassword && <FormFeedback className='d-block'>{errors.newPassword.message}</FormFeedback>}\n              </Col>\n              <Col sm='6' className='mb-1'>\n                <Controller\n                  control={control}\n                  id='retypeNewPassword'\n                  name='retypeNewPassword'\n                  render={({ field }) => (\n                    <InputPasswordToggle\n                      label='Retype New Password'\n                      htmlFor='retypeNewPassword'\n                      className='input-group-merge'\n                      invalid={errors.newPassword && true}\n                      {...field}\n                    />\n                  )}\n                />\n                {errors.retypeNewPassword && (\n                  <FormFeedback className='d-block'>{errors.retypeNewPassword.message}</FormFeedback>\n                )}\n              </Col>\n              <Col xs={12}>\n                <p className='fw-bolder'>Password requirements:</p>\n                <ul className='ps-1 ms-25'>\n                  <li className='mb-50'>Minimum 8 characters long - the more, the better</li>\n                  <li className='mb-50'>At least one lowercase character</li>\n                  <li>At least one number, symbol, or whitespace character</li>\n                </ul>\n              </Col>\n              <Col className='mt-1' sm='12'>\n                <Button type='submit' className='me-1' color='primary'>\n                  Save changes\n                </Button>\n                <Button color='secondary' outline>\n                  Cancel\n                </Button>\n              </Col>\n            </Row>\n          </Form>\n        </CardBody>\n      </Card>\n      <TwoFactorAuth />\n      <CreateApiKey />\n      <ApiKeysList />\n      <RecentDevices />\n    </Fragment>\n  )\n}\n\nexport default SecurityTabContent\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}