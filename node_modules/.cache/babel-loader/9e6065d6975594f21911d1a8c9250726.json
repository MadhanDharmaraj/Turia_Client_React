{"ast":null,"code":"import _toConsumableArray from\"/var/www/html/Turia_Client_React/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/var/www/html/Turia_Client_React/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"/var/www/html/Turia_Client_React/node_modules/@babel/runtime/regenerator/index.js\";// ** Redux Imports\nimport{createSlice,createAsyncThunk}from'@reduxjs/toolkit';// ** Axios Imports\nimport axios from'axios';export var fetchEvents=createAsyncThunk('appCalendar/fetchEvents',/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(calendars){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('/apps/calendar/events',{calendars:calendars});case 2:response=_context.sent;return _context.abrupt(\"return\",response.data);case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());export var addEvent=createAsyncThunk('appCalendar/addEvent',/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event,_ref2){var dispatch,getState;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch=_ref2.dispatch,getState=_ref2.getState;_context2.next=3;return axios.post('/apps/calendar/add-event',{event:event});case 3:_context2.next=5;return dispatch(fetchEvents(getState().calendar.selectedCalendars));case 5:return _context2.abrupt(\"return\",event);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2,_x3){return _ref3.apply(this,arguments);};}());export var updateEvent=createAsyncThunk('appCalendar/updateEvent',/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(event,_ref4){var dispatch,getState;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:dispatch=_ref4.dispatch,getState=_ref4.getState;_context3.next=3;return axios.post('/apps/calendar/update-event',{event:event});case 3:_context3.next=5;return dispatch(fetchEvents(getState().calendar.selectedCalendars));case 5:return _context3.abrupt(\"return\",event);case 6:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x4,_x5){return _ref5.apply(this,arguments);};}());export var updateFilter=createAsyncThunk('appCalendar/updateFilter',/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(filter,_ref6){var dispatch,getState;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:dispatch=_ref6.dispatch,getState=_ref6.getState;if(!getState().calendar.selectedCalendars.includes(filter)){_context4.next=6;break;}_context4.next=4;return dispatch(fetchEvents(getState().calendar.selectedCalendars.filter(function(i){return i!==filter;})));case 4:_context4.next=8;break;case 6:_context4.next=8;return dispatch(fetchEvents([].concat(_toConsumableArray(getState().calendar.selectedCalendars),[filter])));case 8:return _context4.abrupt(\"return\",filter);case 9:case\"end\":return _context4.stop();}}},_callee4);}));return function(_x6,_x7){return _ref7.apply(this,arguments);};}());export var updateAllFilters=createAsyncThunk('appCalendar/updateAllFilters',/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(value,_ref8){var dispatch;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:dispatch=_ref8.dispatch;if(!(value===true)){_context5.next=6;break;}_context5.next=4;return dispatch(fetchEvents(['Personal','Business','Family','Holiday','ETC']));case 4:_context5.next=8;break;case 6:_context5.next=8;return dispatch(fetchEvents([]));case 8:return _context5.abrupt(\"return\",value);case 9:case\"end\":return _context5.stop();}}},_callee5);}));return function(_x8,_x9){return _ref9.apply(this,arguments);};}());export var removeEvent=createAsyncThunk('appCalendar/removeEvent',/*#__PURE__*/function(){var _ref10=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return axios.delete('/apps/calendar/remove-event',{id:id});case 2:return _context6.abrupt(\"return\",id);case 3:case\"end\":return _context6.stop();}}},_callee6);}));return function(_x10){return _ref10.apply(this,arguments);};}());export var appCalendarSlice=createSlice({name:'appCalendar',initialState:{events:[],selectedEvent:{},selectedCalendars:['Personal','Business','Family','Holiday','ETC']},reducers:{selectEvent:function selectEvent(state,action){state.selectedEvent=action.payload;}},extraReducers:function extraReducers(builder){builder.addCase(fetchEvents.fulfilled,function(state,action){state.events=action.payload;}).addCase(updateFilter.fulfilled,function(state,action){if(state.selectedCalendars.includes(action.payload)){state.selectedCalendars.splice(state.selectedCalendars.indexOf(action.payload),1);}else{state.selectedCalendars.push(action.payload);}}).addCase(updateAllFilters.fulfilled,function(state,action){var value=action.payload;var selected=[];if(value===true){selected=['Personal','Business','Family','Holiday','ETC'];}else{selected=[];}state.selectedCalendars=selected;});}});var selectEvent=appCalendarSlice.actions.selectEvent;export{selectEvent};export default appCalendarSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","fetchEvents","calendars","get","response","data","addEvent","event","dispatch","getState","post","calendar","selectedCalendars","updateEvent","updateFilter","filter","includes","i","updateAllFilters","value","removeEvent","id","delete","appCalendarSlice","name","initialState","events","selectedEvent","reducers","selectEvent","state","action","payload","extraReducers","builder","addCase","fulfilled","splice","indexOf","push","selected","actions","reducer"],"sources":["/var/www/html/Turia_Client_React/src/views/apps/calendar/store/index.js"],"sourcesContent":["// ** Redux Imports\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\n\n// ** Axios Imports\nimport axios from 'axios'\n\nexport const fetchEvents = createAsyncThunk('appCalendar/fetchEvents', async calendars => {\n  const response = await axios.get('/apps/calendar/events', { calendars })\n  return response.data\n})\n\nexport const addEvent = createAsyncThunk('appCalendar/addEvent', async (event, { dispatch, getState }) => {\n  await axios.post('/apps/calendar/add-event', { event })\n  await dispatch(fetchEvents(getState().calendar.selectedCalendars))\n  return event\n})\n\nexport const updateEvent = createAsyncThunk('appCalendar/updateEvent', async (event, { dispatch, getState }) => {\n  await axios.post('/apps/calendar/update-event', { event })\n  await dispatch(fetchEvents(getState().calendar.selectedCalendars))\n  return event\n})\n\nexport const updateFilter = createAsyncThunk('appCalendar/updateFilter', async (filter, { dispatch, getState }) => {\n  if (getState().calendar.selectedCalendars.includes(filter)) {\n    await dispatch(fetchEvents(getState().calendar.selectedCalendars.filter(i => i !== filter)))\n  } else {\n    await dispatch(fetchEvents([...getState().calendar.selectedCalendars, filter]))\n  }\n  return filter\n})\n\nexport const updateAllFilters = createAsyncThunk('appCalendar/updateAllFilters', async (value, { dispatch }) => {\n  if (value === true) {\n    await dispatch(fetchEvents(['Personal', 'Business', 'Family', 'Holiday', 'ETC']))\n  } else {\n    await dispatch(fetchEvents([]))\n  }\n  return value\n})\n\nexport const removeEvent = createAsyncThunk('appCalendar/removeEvent', async id => {\n  await axios.delete('/apps/calendar/remove-event', { id })\n  return id\n})\n\nexport const appCalendarSlice = createSlice({\n  name: 'appCalendar',\n  initialState: {\n    events: [],\n    selectedEvent: {},\n    selectedCalendars: ['Personal', 'Business', 'Family', 'Holiday', 'ETC']\n  },\n  reducers: {\n    selectEvent: (state, action) => {\n      state.selectedEvent = action.payload\n    }\n  },\n  extraReducers: builder => {\n    builder\n      .addCase(fetchEvents.fulfilled, (state, action) => {\n        state.events = action.payload\n      })\n      .addCase(updateFilter.fulfilled, (state, action) => {\n        if (state.selectedCalendars.includes(action.payload)) {\n          state.selectedCalendars.splice(state.selectedCalendars.indexOf(action.payload), 1)\n        } else {\n          state.selectedCalendars.push(action.payload)\n        }\n      })\n      .addCase(updateAllFilters.fulfilled, (state, action) => {\n        const value = action.payload\n        let selected = []\n        if (value === true) {\n          selected = ['Personal', 'Business', 'Family', 'Holiday', 'ETC']\n        } else {\n          selected = []\n        }\n        state.selectedCalendars = selected\n      })\n  }\n})\n\nexport const { selectEvent } = appCalendarSlice.actions\n\nexport default appCalendarSlice.reducer\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}