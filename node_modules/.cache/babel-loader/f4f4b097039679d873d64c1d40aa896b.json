{"ast":null,"code":"import _slicedToArray from\"/var/www/html/Turia_Client_React/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";// ** React Imports\nimport{Link}from'react-router-dom';import{useEffect,Fragment,useState}from'react';// ** Third Party Components\nimport InputNumber from'rc-input-number';import PerfectScrollbar from'react-perfect-scrollbar';import{ShoppingCart,X,Plus,Minus}from'react-feather';// ** Reactstrap Imports\nimport{Dropdown,DropdownMenu,DropdownToggle,DropdownItem,Badge,Button}from'reactstrap';// ** Store & Actions\nimport{useDispatch,useSelector}from'react-redux';import{getCartItems,deleteCartItem,getProduct}from'@src/views/apps/ecommerce/store';// ** Styles\nimport'@styles/react/libs/input-number/input-number.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CartDropdown=function CartDropdown(){// ** State\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),dropdownOpen=_useState2[0],setDropdownOpen=_useState2[1];// ** Store Vars\nvar dispatch=useDispatch();var store=useSelector(function(state){return state.ecommerce;});// ** ComponentDidMount\nuseEffect(function(){dispatch(getCartItems());},[]);// ** Function to toggle Dropdown\nvar toggle=function toggle(){return setDropdownOpen(function(prevState){return!prevState;});};// ** Function to call on Dropdown Item Click\nvar handleDropdownItemClick=function handleDropdownItemClick(id){dispatch(getProduct(id));toggle();};// ** Loops through Cart Array to return Cart Items\nvar renderCartItems=function renderCartItems(){if(store.cart.length){var total=0;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(PerfectScrollbar,{className:\"scrollable-container media-list\",options:{wheelPropagation:false},children:store.cart.map(function(item){total+=item.price;return/*#__PURE__*/_jsxs(\"div\",{className:\"list-item align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"d-block rounded me-1\",src:item.image,alt:item.name,width:\"62\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"list-item-body flex-grow-1\",children:[/*#__PURE__*/_jsx(X,{size:14,className:\"cart-item-remove\",onClick:function onClick(){return dispatch(deleteCartItem(item.id));}}),/*#__PURE__*/_jsxs(\"div\",{className:\"media-heading\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"cart-item-title\",children:/*#__PURE__*/_jsx(Link,{className:\"text-body\",to:\"/apps/ecommerce/product/\".concat(item.slug),onClick:function onClick(){return handleDropdownItemClick(item.id);},children:item.name})}),/*#__PURE__*/_jsxs(\"small\",{className:\"cart-item-by\",children:[\"by \",item.brand]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item-qty\",children:/*#__PURE__*/_jsx(InputNumber,{min:1,max:10,upHandler:/*#__PURE__*/_jsx(Plus,{}),className:\"cart-input\",defaultValue:item.qty,downHandler:/*#__PURE__*/_jsx(Minus,{})})}),/*#__PURE__*/_jsxs(\"h5\",{className:\"cart-item-price\",children:[\"$\",item.price]})]})]},item.id);})}),/*#__PURE__*/_jsxs(\"li\",{className:\"dropdown-menu-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-1\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"fw-bolder mb-0\",children:\"Total:\"}),/*#__PURE__*/_jsxs(\"h6\",{className:\"text-primary fw-bolder mb-0\",children:[\"$\",Number(total.toFixed(2))]})]}),/*#__PURE__*/_jsx(Button,{tag:Link,to:\"/apps/ecommerce/checkout\",color:\"primary\",block:true,onClick:toggle,children:\"Checkout\"})]})]});}else{return/*#__PURE__*/_jsx(\"p\",{className:\"m-0 p-1 text-center\",children:\"Your cart is empty\"});}};return/*#__PURE__*/_jsxs(Dropdown,{isOpen:dropdownOpen,toggle:toggle,tag:\"li\",className:\"dropdown-cart nav-item me-25\",children:[/*#__PURE__*/_jsxs(DropdownToggle,{tag:\"a\",className:\"nav-link position-relative\",children:[/*#__PURE__*/_jsx(ShoppingCart,{className:\"ficon\"}),store.cart.length>0?/*#__PURE__*/_jsx(Badge,{pill:true,color:\"primary\",className:\"badge-up\",children:store.cart.length}):null]}),/*#__PURE__*/_jsxs(DropdownMenu,{end:true,tag:\"ul\",className:\"dropdown-menu-media dropdown-cart mt-0\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"dropdown-menu-header\",children:/*#__PURE__*/_jsxs(DropdownItem,{tag:\"div\",className:\"d-flex\",header:true,children:[/*#__PURE__*/_jsx(\"h4\",{className:\"notification-title mb-0 me-auto\",children:\"My Cart\"}),/*#__PURE__*/_jsxs(Badge,{color:\"light-primary\",pill:true,children:[store.cart.length||0,\" Items\"]})]})}),renderCartItems()]})]});};export default CartDropdown;","map":{"version":3,"names":["Link","useEffect","Fragment","useState","InputNumber","PerfectScrollbar","ShoppingCart","X","Plus","Minus","Dropdown","DropdownMenu","DropdownToggle","DropdownItem","Badge","Button","useDispatch","useSelector","getCartItems","deleteCartItem","getProduct","CartDropdown","dropdownOpen","setDropdownOpen","dispatch","store","state","ecommerce","toggle","prevState","handleDropdownItemClick","id","renderCartItems","cart","length","total","wheelPropagation","map","item","price","image","name","slug","brand","qty","Number","toFixed"],"sources":["/var/www/html/Turia_Client_React/src/@core/layouts/components/navbar/CartDropdown.js"],"sourcesContent":["// ** React Imports\nimport { Link } from 'react-router-dom'\nimport { useEffect, Fragment, useState } from 'react'\n\n// ** Third Party Components\nimport InputNumber from 'rc-input-number'\nimport PerfectScrollbar from 'react-perfect-scrollbar'\nimport { ShoppingCart, X, Plus, Minus } from 'react-feather'\n\n// ** Reactstrap Imports\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem, Badge, Button } from 'reactstrap'\n\n// ** Store & Actions\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getCartItems, deleteCartItem, getProduct } from '@src/views/apps/ecommerce/store'\n\n// ** Styles\nimport '@styles/react/libs/input-number/input-number.scss'\n\nconst CartDropdown = () => {\n  // ** State\n  const [dropdownOpen, setDropdownOpen] = useState(false)\n\n  // ** Store Vars\n  const dispatch = useDispatch()\n  const store = useSelector(state => state.ecommerce)\n\n  // ** ComponentDidMount\n  useEffect(() => {\n    dispatch(getCartItems())\n  }, [])\n\n  // ** Function to toggle Dropdown\n  const toggle = () => setDropdownOpen(prevState => !prevState)\n\n  // ** Function to call on Dropdown Item Click\n  const handleDropdownItemClick = id => {\n    dispatch(getProduct(id))\n    toggle()\n  }\n\n  // ** Loops through Cart Array to return Cart Items\n  const renderCartItems = () => {\n    if (store.cart.length) {\n      let total = 0\n\n      return (\n        <Fragment>\n          <PerfectScrollbar\n            className='scrollable-container media-list'\n            options={{\n              wheelPropagation: false\n            }}\n          >\n            {store.cart.map(item => {\n              total += item.price\n\n              return (\n                <div key={item.id} className='list-item align-items-center'>\n                  <img className='d-block rounded me-1' src={item.image} alt={item.name} width='62' />\n                  <div className='list-item-body flex-grow-1'>\n                    <X size={14} className='cart-item-remove' onClick={() => dispatch(deleteCartItem(item.id))} />\n                    <div className='media-heading'>\n                      <h6 className='cart-item-title'>\n                        <Link\n                          className='text-body'\n                          to={`/apps/ecommerce/product/${item.slug}`}\n                          onClick={() => handleDropdownItemClick(item.id)}\n                        >\n                          {item.name}\n                        </Link>\n                      </h6>\n                      <small className='cart-item-by'>by {item.brand}</small>\n                    </div>\n                    <div className='cart-item-qty'>\n                      <InputNumber\n                        min={1}\n                        max={10}\n                        upHandler={<Plus />}\n                        className='cart-input'\n                        defaultValue={item.qty}\n                        downHandler={<Minus />}\n                      />\n                    </div>\n                    <h5 className='cart-item-price'>${item.price}</h5>\n                  </div>\n                </div>\n              )\n            })}\n          </PerfectScrollbar>\n          <li className='dropdown-menu-footer'>\n            <div className='d-flex justify-content-between mb-1'>\n              <h6 className='fw-bolder mb-0'>Total:</h6>\n              <h6 className='text-primary fw-bolder mb-0'>${Number(total.toFixed(2))}</h6>\n            </div>\n            <Button tag={Link} to='/apps/ecommerce/checkout' color='primary' block onClick={toggle}>\n              Checkout\n            </Button>\n          </li>\n        </Fragment>\n      )\n    } else {\n      return <p className='m-0 p-1 text-center'>Your cart is empty</p>\n    }\n  }\n\n  return (\n    <Dropdown isOpen={dropdownOpen} toggle={toggle} tag='li' className='dropdown-cart nav-item me-25'>\n      <DropdownToggle tag='a' className='nav-link position-relative'>\n        <ShoppingCart className='ficon' />\n        {store.cart.length > 0 ? (\n          <Badge pill color='primary' className='badge-up'>\n            {store.cart.length}\n          </Badge>\n        ) : null}\n      </DropdownToggle>\n      <DropdownMenu end tag='ul' className='dropdown-menu-media dropdown-cart mt-0'>\n        <li className='dropdown-menu-header'>\n          <DropdownItem tag='div' className='d-flex' header>\n            <h4 className='notification-title mb-0 me-auto'>My Cart</h4>\n            <Badge color='light-primary' pill>\n              {store.cart.length || 0} Items\n            </Badge>\n          </DropdownItem>\n        </li>\n        {renderCartItems()}\n      </DropdownMenu>\n    </Dropdown>\n  )\n}\n\nexport default CartDropdown\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}