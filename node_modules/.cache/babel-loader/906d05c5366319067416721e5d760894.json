{"ast":null,"code":"import _slicedToArray from\"/var/www/html/Turia_Client_React/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _objectSpread from\"/var/www/html/Turia_Client_React/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// ** React Imports\nimport{useState}from'react';import{Link,useLocation}from'react-router-dom';// ** Third Party Components\nimport classnames from'classnames';import{usePopper}from'react-popper';import{useTranslation}from'react-i18next';// ** Utils\nimport{hasActiveChild}from'@layouts/utils';// ** Hooks\nimport{useRTL}from'@hooks/useRTL';// ** Horizontal Menu Items Component\nimport HorizontalNavMenuItems from'./HorizontalNavMenuItems';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var applyHeight={enabled:true,name:'applyHeight',phase:'beforeWrite',fn:function fn(data){var pageHeight=window.innerHeight,popperEl=data.state.elements.popper,ddTop=popperEl.getBoundingClientRect().top,ddHeight=popperEl.clientHeight;var maxHeight,stylesObj;// ** Calculate and set height\nif(pageHeight-ddTop-ddHeight-28<1){maxHeight=pageHeight-ddTop-25;stylesObj={maxHeight:maxHeight,overflowY:'auto'};}var ddRef=popperEl.getBoundingClientRect();// ** If there is not space left to open sub menu open it to the right\nif(ddRef.left+ddRef.width-(window.innerWidth-16)>=0){popperEl.closest('.dropdown').classList.add('openLeft');}data.state.styles.popper=_objectSpread(_objectSpread({},data.state.styles.popper),stylesObj);}};var HorizontalNavMenuGroup=function HorizontalNavMenuGroup(props){// ** Props\nvar item=props.item,submenu=props.submenu,isChild=props.isChild;// ** State\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),menuOpen=_useState2[0],setMenuOpen=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),popperElement=_useState4[0],setPopperElement=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),referenceElement=_useState6[0],setReferenceElement=_useState6[1];// ** Hooks\nvar _useRTL=useRTL(),_useRTL2=_slicedToArray(_useRTL,1),isRtl=_useRTL2[0];// ** Vars\nvar popperOffsetHorizontal=isRtl?16:-16;var popperPlacement=isRtl?'bottom-end':'bottom-start';var popperPlacementSubMenu=isRtl?'left-start':'right-start';// ** Hooks\nvar _useTranslation=useTranslation(),t=_useTranslation.t;var currentURL=useLocation().pathname;var _usePopper=usePopper(referenceElement,popperElement,{placement:isChild?popperPlacementSubMenu:popperPlacement,modifiers:[applyHeight,{enabled:true,name:'offset',options:{offset:isChild?[-8,15]:[popperOffsetHorizontal,5]}}]}),update=_usePopper.update,styles=_usePopper.styles,attributes=_usePopper.attributes;var handleMouseEnter=function handleMouseEnter(){setMenuOpen(true);update();};return/*#__PURE__*/_jsxs(\"li\",{ref:setReferenceElement,onMouseEnter:handleMouseEnter,onMouseLeave:function onMouseLeave(){return setMenuOpen(false);},className:classnames('dropdown',{show:menuOpen,'nav-item':submenu===false,'dropdown-submenu':submenu===true,'sidebar-group-active active':hasActiveChild(item,currentURL)}),children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",onClick:function onClick(e){return e.preventDefault();},className:classnames('dropdown-toggle d-flex align-items-center',{'dropdown-item':submenu===true,'nav-link':submenu===false}),children:[item.icon,/*#__PURE__*/_jsx(\"span\",{children:t(item.title)})]}),/*#__PURE__*/_jsx(\"ul\",_objectSpread(_objectSpread({ref:setPopperElement,style:_objectSpread({},styles.popper)},attributes.popper),{},{className:classnames('dropdown-menu',{'first-level':submenu===false}),children:/*#__PURE__*/_jsx(HorizontalNavMenuItems,{isChild:true,submenu:true,parentItem:item,menuOpen:menuOpen,items:item.children,setMenuOpen:setMenuOpen})}))]});};export default HorizontalNavMenuGroup;","map":{"version":3,"names":["useState","Link","useLocation","classnames","usePopper","useTranslation","hasActiveChild","useRTL","HorizontalNavMenuItems","applyHeight","enabled","name","phase","fn","data","pageHeight","window","innerHeight","popperEl","state","elements","popper","ddTop","getBoundingClientRect","top","ddHeight","clientHeight","maxHeight","stylesObj","overflowY","ddRef","left","width","innerWidth","closest","classList","add","styles","HorizontalNavMenuGroup","props","item","submenu","isChild","menuOpen","setMenuOpen","popperElement","setPopperElement","referenceElement","setReferenceElement","isRtl","popperOffsetHorizontal","popperPlacement","popperPlacementSubMenu","t","currentURL","pathname","placement","modifiers","options","offset","update","attributes","handleMouseEnter","show","e","preventDefault","icon","title","children"],"sources":["/var/www/html/Turia_Client_React/src/@core/layouts/components/menu/horizontal-menu/HorizontalNavMenuGroup.js"],"sourcesContent":["// ** React Imports\nimport { useState } from 'react'\nimport { Link, useLocation } from 'react-router-dom'\n\n// ** Third Party Components\nimport classnames from 'classnames'\nimport { usePopper } from 'react-popper'\nimport { useTranslation } from 'react-i18next'\n\n// ** Utils\nimport { hasActiveChild } from '@layouts/utils'\n\n// ** Hooks\nimport { useRTL } from '@hooks/useRTL'\n\n// ** Horizontal Menu Items Component\nimport HorizontalNavMenuItems from './HorizontalNavMenuItems'\n\nconst applyHeight = {\n  enabled: true,\n  name: 'applyHeight',\n  phase: 'beforeWrite',\n  fn: data => {\n    const pageHeight = window.innerHeight,\n      popperEl = data.state.elements.popper,\n      ddTop = popperEl.getBoundingClientRect().top,\n      ddHeight = popperEl.clientHeight\n    let maxHeight, stylesObj\n    // ** Calculate and set height\n    if (pageHeight - ddTop - ddHeight - 28 < 1) {\n      maxHeight = pageHeight - ddTop - 25\n      stylesObj = {\n        maxHeight,\n        overflowY: 'auto'\n      }\n    }\n    const ddRef = popperEl.getBoundingClientRect()\n    // ** If there is not space left to open sub menu open it to the right\n    if (ddRef.left + ddRef.width - (window.innerWidth - 16) >= 0) {\n      popperEl.closest('.dropdown').classList.add('openLeft')\n    }\n    data.state.styles.popper = { ...data.state.styles.popper, ...stylesObj }\n  }\n}\n\nconst HorizontalNavMenuGroup = props => {\n  // ** Props\n  const { item, submenu, isChild } = props\n\n  // ** State\n  const [menuOpen, setMenuOpen] = useState(false)\n  const [popperElement, setPopperElement] = useState(null)\n  const [referenceElement, setReferenceElement] = useState(null)\n\n  // ** Hooks\n  const [isRtl] = useRTL()\n\n  // ** Vars\n  const popperOffsetHorizontal = isRtl ? 16 : -16\n  const popperPlacement = isRtl ? 'bottom-end' : 'bottom-start'\n  const popperPlacementSubMenu = isRtl ? 'left-start' : 'right-start'\n\n  // ** Hooks\n  const { t } = useTranslation()\n  const currentURL = useLocation().pathname\n  const { update, styles, attributes } = usePopper(referenceElement, popperElement, {\n    placement: isChild ? popperPlacementSubMenu : popperPlacement,\n    modifiers: [\n      applyHeight,\n      {\n        enabled: true,\n        name: 'offset',\n        options: {\n          offset: isChild ? [-8, 15] : [popperOffsetHorizontal, 5]\n        }\n      }\n    ]\n  })\n\n  const handleMouseEnter = () => {\n    setMenuOpen(true)\n    update()\n  }\n\n  return (\n    <li\n      ref={setReferenceElement}\n      onMouseEnter={handleMouseEnter}\n      onMouseLeave={() => setMenuOpen(false)}\n      className={classnames('dropdown', {\n        show: menuOpen,\n        'nav-item': submenu === false,\n        'dropdown-submenu': submenu === true,\n        'sidebar-group-active active': hasActiveChild(item, currentURL)\n      })}\n    >\n      <Link\n        to='/'\n        onClick={e => e.preventDefault()}\n        className={classnames('dropdown-toggle d-flex align-items-center', {\n          'dropdown-item': submenu === true,\n          'nav-link': submenu === false\n        })}\n      >\n        {item.icon}\n        <span>{t(item.title)}</span>\n      </Link>\n      <ul\n        ref={setPopperElement}\n        style={{ ...styles.popper }}\n        {...attributes.popper}\n        className={classnames('dropdown-menu', { 'first-level': submenu === false })}\n      >\n        <HorizontalNavMenuItems\n          isChild={true}\n          submenu={true}\n          parentItem={item}\n          menuOpen={menuOpen}\n          items={item.children}\n          setMenuOpen={setMenuOpen}\n        />\n      </ul>\n    </li>\n  )\n}\n\nexport default HorizontalNavMenuGroup\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}