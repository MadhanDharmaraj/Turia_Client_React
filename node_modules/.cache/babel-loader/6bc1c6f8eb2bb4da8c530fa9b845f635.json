{"ast":null,"code":"import _createForOfIteratorHelper from\"/var/www/html/Turia_Client_React/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";// ** React Imports\nimport{useContext}from'react';import{AbilityContext}from'@src/utility/context/Can';/**\n * Return which component to render based on it's data/context\n * @param {Object} item nav menu item\n */export var resolveVerticalNavMenuItemComponent=function resolveVerticalNavMenuItemComponent(item){if(item.header)return'VerticalNavMenuSectionHeader';if(item.children)return'VerticalNavMenuGroup';return'VerticalNavMenuLink';};/**\n * Return which component to render based on it's data/context\n * @param {Object} item nav menu item\n */export var resolveHorizontalNavMenuItemComponent=function resolveHorizontalNavMenuItemComponent(item){if(item.children)return'HorizontalNavMenuGroup';return'HorizontalNavMenuLink';};/**\n * Check if nav-link is active\n * @param {Object} link nav-link object\n */export var isNavLinkActive=function isNavLinkActive(link,currentURL,routerProps){return currentURL===link||routerProps&&routerProps.meta&&routerProps.meta.navLink&&routerProps.meta.navLink===link;// return currentURL === link\n};/**\n * Check if the given item has the given url\n * in one of its children\n *\n * @param item\n * @param activeItem\n */export var hasActiveChild=function hasActiveChild(item,currentUrl){var children=item.children;if(!children){return false;}var _iterator=_createForOfIteratorHelper(children),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var child=_step.value;if(child.children){if(hasActiveChild(child,currentUrl)){return true;}}// Check if the child has a link and is active\nif(child&&child.navLink&&currentUrl&&(child.navLink===currentUrl||currentUrl.includes(child.navLink))){return true;}}}catch(err){_iterator.e(err);}finally{_iterator.f();}return false;};/**\n * Check if this is a children\n * of the given item\n *\n * @param children\n * @param openGroup\n * @param currentActiveGroup\n */export var removeChildren=function removeChildren(children,openGroup,currentActiveGroup){children.forEach(function(child){if(!currentActiveGroup.includes(child.id)){var index=openGroup.indexOf(child.id);if(index>-1)openGroup.splice(index,1);if(child.children)removeChildren(child.children,openGroup,currentActiveGroup);}});};export var canViewMenuGroup=function canViewMenuGroup(item){var ability=useContext(AbilityContext);// ! This same logic is used in canViewHorizontalNavMenuGroup and canViewHorizontalNavMenuHeaderGroup. So make sure to update logic in them as well\nvar hasAnyVisibleChild=item.children&&item.children.some(function(i){return ability.can(i.action,i.resource);});// ** If resource and action is defined in item => Return based on children visibility (Hide group if no child is visible)\n// ** Else check for ability using provided resource and action along with checking if has any visible child\nif(!(item.action&&item.resource)){return hasAnyVisibleChild;}return ability.can(item.action,item.resource)&&hasAnyVisibleChild;};export var canViewMenuItem=function canViewMenuItem(item){var ability=useContext(AbilityContext);return ability.can(item.action,item.resource);};","map":{"version":3,"names":["useContext","AbilityContext","resolveVerticalNavMenuItemComponent","item","header","children","resolveHorizontalNavMenuItemComponent","isNavLinkActive","link","currentURL","routerProps","meta","navLink","hasActiveChild","currentUrl","child","includes","removeChildren","openGroup","currentActiveGroup","forEach","id","index","indexOf","splice","canViewMenuGroup","ability","hasAnyVisibleChild","some","i","can","action","resource","canViewMenuItem"],"sources":["/var/www/html/Turia_Client_React/src/@core/layouts/utils.js"],"sourcesContent":["// ** React Imports\nimport { useContext } from 'react'\nimport { AbilityContext } from '@src/utility/context/Can'\n\n/**\n * Return which component to render based on it's data/context\n * @param {Object} item nav menu item\n */\nexport const resolveVerticalNavMenuItemComponent = item => {\n  if (item.header) return 'VerticalNavMenuSectionHeader'\n  if (item.children) return 'VerticalNavMenuGroup'\n  return 'VerticalNavMenuLink'\n}\n\n/**\n * Return which component to render based on it's data/context\n * @param {Object} item nav menu item\n */\nexport const resolveHorizontalNavMenuItemComponent = item => {\n  if (item.children) return 'HorizontalNavMenuGroup'\n  return 'HorizontalNavMenuLink'\n}\n\n/**\n * Check if nav-link is active\n * @param {Object} link nav-link object\n */\nexport const isNavLinkActive = (link, currentURL, routerProps) => {\n  return (\n    currentURL === link ||\n    (routerProps && routerProps.meta && routerProps.meta.navLink && routerProps.meta.navLink === link)\n  )\n  // return currentURL === link\n}\n\n/**\n * Check if the given item has the given url\n * in one of its children\n *\n * @param item\n * @param activeItem\n */\nexport const hasActiveChild = (item, currentUrl) => {\n  const { children } = item\n\n  if (!children) {\n    return false\n  }\n\n  for (const child of children) {\n    if (child.children) {\n      if (hasActiveChild(child, currentUrl)) {\n        return true\n      }\n    }\n\n    // Check if the child has a link and is active\n    if (child && child.navLink && currentUrl && (child.navLink === currentUrl || currentUrl.includes(child.navLink))) {\n      return true\n    }\n  }\n\n  return false\n}\n\n/**\n * Check if this is a children\n * of the given item\n *\n * @param children\n * @param openGroup\n * @param currentActiveGroup\n */\nexport const removeChildren = (children, openGroup, currentActiveGroup) => {\n  children.forEach(child => {\n    if (!currentActiveGroup.includes(child.id)) {\n      const index = openGroup.indexOf(child.id)\n      if (index > -1) openGroup.splice(index, 1)\n      if (child.children) removeChildren(child.children, openGroup, currentActiveGroup)\n    }\n  })\n}\n\nexport const canViewMenuGroup = item => {\n  const ability = useContext(AbilityContext)\n  // ! This same logic is used in canViewHorizontalNavMenuGroup and canViewHorizontalNavMenuHeaderGroup. So make sure to update logic in them as well\n  const hasAnyVisibleChild = item.children && item.children.some(i => ability.can(i.action, i.resource))\n\n  // ** If resource and action is defined in item => Return based on children visibility (Hide group if no child is visible)\n  // ** Else check for ability using provided resource and action along with checking if has any visible child\n  if (!(item.action && item.resource)) {\n    return hasAnyVisibleChild\n  }\n  return ability.can(item.action, item.resource) && hasAnyVisibleChild\n}\n\nexport const canViewMenuItem = item => {\n  const ability = useContext(AbilityContext)\n  return ability.can(item.action, item.resource)\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}