{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar tslib_1 = require(\"tslib\");\n\nvar react_1 = tslib_1.__importStar(require(\"react\"));\n\nvar SlideDownContent = function (_super) {\n  tslib_1.__extends(SlideDownContent, _super);\n\n  function SlideDownContent(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this.outerRef = null;\n\n    _this.handleRef = function (ref) {\n      _this.outerRef = ref;\n\n      if (_this.props.forwardedRef) {\n        if (typeof _this.props.forwardedRef === 'function') {\n          _this.props.forwardedRef(ref);\n        } else if (typeof _this.props.forwardedRef === 'object') {\n          var forwardedRef = _this.props.forwardedRef;\n          forwardedRef.current = ref;\n        } else {\n          throw new Error(\"Invalid forwardedRef \" + _this.props.forwardedRef);\n        }\n      }\n    };\n\n    _this.handleTransitionEnd = function (evt) {\n      if (evt.target === _this.outerRef && evt.propertyName === 'height') {\n        if (_this.state.childrenLeaving) {\n          _this.setState({\n            children: null,\n            childrenLeaving: false\n          }, function () {\n            return _this.endTransition();\n          });\n        } else {\n          _this.endTransition();\n        }\n      }\n    };\n\n    _this.state = {\n      children: props.children,\n      childrenLeaving: false\n    };\n    return _this;\n  }\n\n  SlideDownContent.prototype.componentDidMount = function () {\n    if (this.outerRef) {\n      if (this.props.closed || !this.props.children) {\n        this.outerRef.classList.add('closed');\n        this.outerRef.style.height = '0px';\n      } else if (this.props.transitionOnAppear) {\n        this.startTransition('0px');\n      } else {\n        this.outerRef.style.height = 'auto';\n      }\n    }\n  };\n\n  SlideDownContent.prototype.getSnapshotBeforeUpdate = function () {\n    return this.outerRef ? this.outerRef.getBoundingClientRect().height + 'px' : null;\n  };\n\n  SlideDownContent.getDerivedStateFromProps = function (props, state) {\n    if (props.children) {\n      return {\n        children: props.children,\n        childrenLeaving: false\n      };\n    } else if (state.children) {\n      return {\n        children: state.children,\n        childrenLeaving: true\n      };\n    } else {\n      return null;\n    }\n  };\n\n  SlideDownContent.prototype.componentDidUpdate = function (_prevProps, _prevState, snapshot) {\n    if (this.outerRef) {\n      this.startTransition(snapshot);\n    }\n  };\n\n  SlideDownContent.prototype.startTransition = function (prevHeight) {\n    var endHeight = '0px';\n\n    if (!this.props.closed && !this.state.childrenLeaving && this.state.children) {\n      this.outerRef.classList.remove('closed');\n      this.outerRef.style.height = 'auto';\n      endHeight = getComputedStyle(this.outerRef).height;\n    }\n\n    if (parseFloat(endHeight).toFixed(2) !== parseFloat(prevHeight).toFixed(2)) {\n      this.outerRef.classList.add('transitioning');\n      this.outerRef.style.height = prevHeight;\n      this.outerRef.offsetHeight;\n      this.outerRef.style.transitionProperty = 'height';\n      this.outerRef.style.height = endHeight;\n    }\n  };\n\n  SlideDownContent.prototype.endTransition = function () {\n    this.outerRef.classList.remove('transitioning');\n    this.outerRef.style.transitionProperty = 'none';\n    this.outerRef.style.height = this.props.closed ? '0px' : 'auto';\n\n    if (this.props.closed || !this.state.children) {\n      this.outerRef.classList.add('closed');\n    }\n  };\n\n  SlideDownContent.prototype.render = function () {\n    var _a = this.props,\n        _b = _a.as,\n        as = _b === void 0 ? 'div' : _b,\n        children = _a.children,\n        className = _a.className,\n        closed = _a.closed,\n        transitionOnAppear = _a.transitionOnAppear,\n        forwardedRef = _a.forwardedRef,\n        rest = tslib_1.__rest(_a, [\"as\", \"children\", \"className\", \"closed\", \"transitionOnAppear\", \"forwardedRef\"]);\n\n    var containerClassName = className ? 'react-slidedown ' + className : 'react-slidedown';\n    return react_1.default.createElement(as, tslib_1.__assign({\n      ref: this.handleRef,\n      className: containerClassName,\n      onTransitionEnd: this.handleTransitionEnd\n    }, rest), this.state.children);\n  };\n\n  SlideDownContent.defaultProps = {\n    transitionOnAppear: true,\n    closed: false\n  };\n  return SlideDownContent;\n}(react_1.Component);\n\nexports.SlideDown = react_1.forwardRef(function (props, ref) {\n  return react_1.default.createElement(SlideDownContent, tslib_1.__assign({}, props, {\n    forwardedRef: ref\n  }));\n});\nexports.default = exports.SlideDown;","map":{"version":3,"sources":["slidedown.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar react_1 = tslib_1.__importStar(require(\"react\"));\nvar SlideDownContent = (function (_super) {\n    tslib_1.__extends(SlideDownContent, _super);\n    function SlideDownContent(props) {\n        var _this = _super.call(this, props) || this;\n        _this.outerRef = null;\n        _this.handleRef = function (ref) {\n            _this.outerRef = ref;\n            if (_this.props.forwardedRef) {\n                if (typeof _this.props.forwardedRef === 'function') {\n                    _this.props.forwardedRef(ref);\n                }\n                else if (typeof _this.props.forwardedRef === 'object') {\n                    var forwardedRef = _this.props.forwardedRef;\n                    forwardedRef.current = ref;\n                }\n                else {\n                    throw new Error(\"Invalid forwardedRef \" + _this.props.forwardedRef);\n                }\n            }\n        };\n        _this.handleTransitionEnd = function (evt) {\n            if ((evt.target === _this.outerRef) && (evt.propertyName === 'height')) {\n                if (_this.state.childrenLeaving) {\n                    _this.setState({ children: null, childrenLeaving: false }, function () { return _this.endTransition(); });\n                }\n                else {\n                    _this.endTransition();\n                }\n            }\n        };\n        _this.state = {\n            children: props.children,\n            childrenLeaving: false\n        };\n        return _this;\n    }\n    SlideDownContent.prototype.componentDidMount = function () {\n        if (this.outerRef) {\n            if (this.props.closed || !this.props.children) {\n                this.outerRef.classList.add('closed');\n                this.outerRef.style.height = '0px';\n            }\n            else if (this.props.transitionOnAppear) {\n                this.startTransition('0px');\n            }\n            else {\n                this.outerRef.style.height = 'auto';\n            }\n        }\n    };\n    SlideDownContent.prototype.getSnapshotBeforeUpdate = function () {\n        return this.outerRef ? this.outerRef.getBoundingClientRect().height + 'px' : null;\n    };\n    SlideDownContent.getDerivedStateFromProps = function (props, state) {\n        if (props.children) {\n            return {\n                children: props.children,\n                childrenLeaving: false\n            };\n        }\n        else if (state.children) {\n            return {\n                children: state.children,\n                childrenLeaving: true\n            };\n        }\n        else {\n            return null;\n        }\n    };\n    SlideDownContent.prototype.componentDidUpdate = function (_prevProps, _prevState, snapshot) {\n        if (this.outerRef) {\n            this.startTransition(snapshot);\n        }\n    };\n    SlideDownContent.prototype.startTransition = function (prevHeight) {\n        var endHeight = '0px';\n        if (!this.props.closed && !this.state.childrenLeaving && this.state.children) {\n            this.outerRef.classList.remove('closed');\n            this.outerRef.style.height = 'auto';\n            endHeight = getComputedStyle(this.outerRef).height;\n        }\n        if (parseFloat(endHeight).toFixed(2) !== parseFloat(prevHeight).toFixed(2)) {\n            this.outerRef.classList.add('transitioning');\n            this.outerRef.style.height = prevHeight;\n            this.outerRef.offsetHeight;\n            this.outerRef.style.transitionProperty = 'height';\n            this.outerRef.style.height = endHeight;\n        }\n    };\n    SlideDownContent.prototype.endTransition = function () {\n        this.outerRef.classList.remove('transitioning');\n        this.outerRef.style.transitionProperty = 'none';\n        this.outerRef.style.height = this.props.closed ? '0px' : 'auto';\n        if (this.props.closed || !this.state.children) {\n            this.outerRef.classList.add('closed');\n        }\n    };\n    SlideDownContent.prototype.render = function () {\n        var _a = this.props, _b = _a.as, as = _b === void 0 ? 'div' : _b, children = _a.children, className = _a.className, closed = _a.closed, transitionOnAppear = _a.transitionOnAppear, forwardedRef = _a.forwardedRef, rest = tslib_1.__rest(_a, [\"as\", \"children\", \"className\", \"closed\", \"transitionOnAppear\", \"forwardedRef\"]);\n        var containerClassName = className ? 'react-slidedown ' + className : 'react-slidedown';\n        return react_1.default.createElement(as, tslib_1.__assign({ ref: this.handleRef, className: containerClassName, onTransitionEnd: this.handleTransitionEnd }, rest), this.state.children);\n    };\n    SlideDownContent.defaultProps = {\n        transitionOnAppear: true,\n        closed: false\n    };\n    return SlideDownContent;\n}(react_1.Component));\nexports.SlideDown = react_1.forwardRef(function (props, ref) { return (react_1.default.createElement(SlideDownContent, tslib_1.__assign({}, props, { forwardedRef: ref }))); });\nexports.default = exports.SlideDown;\n//# sourceMappingURL=slidedown.js.map"]},"metadata":{},"sourceType":"script"}