{"ast":null,"code":"// ** Custom Components & Plugins\nimport classnames from'classnames';import{Star,Paperclip}from'react-feather';// ** Custom Component Import\nimport Avatar from'@components/avatar';// ** Utils\nimport{htmlToString}from'@utils';// ** Reactstrap Imports\nimport{Input,Label}from'reactstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MailCard=function MailCard(props){// ** Props\nvar mail=props.mail,dispatch=props.dispatch,selectMail=props.selectMail,labelColors=props.labelColors,updateMails=props.updateMails,selectedMails=props.selectedMails,handleMailClick=props.handleMailClick,handleMailReadUpdate=props.handleMailReadUpdate,formatDateToMonthShort=props.formatDateToMonthShort;// ** Function to render labels\nvar renderLabels=function renderLabels(arr){if(arr&&arr.length){return arr.map(function(label){return/*#__PURE__*/_jsx(\"span\",{className:\"bullet bullet-\".concat(labelColors[label],\" bullet-sm mx-50\")},label);});}};// ** Function to handle read & mail click\nvar onMailClick=function onMailClick(){handleMailClick(mail.id);handleMailReadUpdate([mail.id],true);};return/*#__PURE__*/_jsxs(\"li\",{onClick:function onClick(){return onMailClick(mail.id);},className:classnames('d-flex user-mail',{'mail-read':mail.isRead}),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mail-left pe-50\",children:[/*#__PURE__*/_jsx(Avatar,{img:mail.from.avatar}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-action\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-check\",children:[/*#__PURE__*/_jsx(Input,{type:\"checkbox\",id:\"\".concat(mail.from.name,\"-\").concat(mail.id),onChange:function onChange(e){return e.stopPropagation();},checked:selectedMails.includes(mail.id),onClick:function onClick(e){dispatch(selectMail(mail.id));e.stopPropagation();}}),/*#__PURE__*/_jsx(Label,{onClick:function onClick(e){return e.stopPropagation();},for:\"\".concat(mail.from.name,\"-\").concat(mail.id)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"email-favorite\",onClick:function onClick(e){e.stopPropagation();dispatch(updateMails({emailIds:[mail.id],dataToUpdate:{isStarred:!mail.isStarred}}));},children:/*#__PURE__*/_jsx(Star,{size:14,className:classnames({favorite:mail.isStarred})})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mail-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mail-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mail-items\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"mb-25\",children:mail.from.name}),/*#__PURE__*/_jsx(\"span\",{className:\"text-truncate\",children:mail.subject})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mail-meta-item\",children:[mail.attachments&&mail.attachments.length?/*#__PURE__*/_jsx(Paperclip,{size:14}):null,renderLabels(mail.labels),/*#__PURE__*/_jsx(\"span\",{className:\"mail-date\",children:formatDateToMonthShort(mail.time)})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mail-message\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-truncate mb-0\",children:htmlToString(mail.message)})})]})]});};export default MailCard;","map":{"version":3,"names":["classnames","Star","Paperclip","Avatar","htmlToString","Input","Label","MailCard","props","mail","dispatch","selectMail","labelColors","updateMails","selectedMails","handleMailClick","handleMailReadUpdate","formatDateToMonthShort","renderLabels","arr","length","map","label","onMailClick","id","isRead","from","avatar","name","e","stopPropagation","includes","emailIds","dataToUpdate","isStarred","favorite","subject","attachments","labels","time","message"],"sources":["/var/www/html/Turia_Client_React/src/views/apps/email/MailCard.js"],"sourcesContent":["// ** Custom Components & Plugins\nimport classnames from 'classnames'\nimport { Star, Paperclip } from 'react-feather'\n\n// ** Custom Component Import\nimport Avatar from '@components/avatar'\n\n// ** Utils\nimport { htmlToString } from '@utils'\n\n// ** Reactstrap Imports\nimport { Input, Label } from 'reactstrap'\n\nconst MailCard = props => {\n  // ** Props\n  const {\n    mail,\n    dispatch,\n    selectMail,\n    labelColors,\n    updateMails,\n    selectedMails,\n    handleMailClick,\n    handleMailReadUpdate,\n    formatDateToMonthShort\n  } = props\n\n  // ** Function to render labels\n  const renderLabels = arr => {\n    if (arr && arr.length) {\n      return arr.map(label => (\n        <span key={label} className={`bullet bullet-${labelColors[label]} bullet-sm mx-50`}></span>\n      ))\n    }\n  }\n\n  // ** Function to handle read & mail click\n  const onMailClick = () => {\n    handleMailClick(mail.id)\n    handleMailReadUpdate([mail.id], true)\n  }\n\n  return (\n    <li onClick={() => onMailClick(mail.id)} className={classnames('d-flex user-mail', { 'mail-read': mail.isRead })}>\n      <div className='mail-left pe-50'>\n        <Avatar img={mail.from.avatar} />\n        <div className='user-action'>\n          {/* <Input\n            label=''\n            type='checkbox'\n            checked={selectedMails.includes(mail.id)}\n            id={`${mail.from.name}-${mail.id}`}\n            onChange={e => e.stopPropagation()}\n            onClick={e => {\n              dispatch(selectMail(mail.id))\n              e.stopPropagation()\n            }}\n          /> */}\n          <div className='form-check'>\n            <Input\n              type='checkbox'\n              id={`${mail.from.name}-${mail.id}`}\n              onChange={e => e.stopPropagation()}\n              checked={selectedMails.includes(mail.id)}\n              onClick={e => {\n                dispatch(selectMail(mail.id))\n                e.stopPropagation()\n              }}\n            />\n            <Label onClick={e => e.stopPropagation()} for={`${mail.from.name}-${mail.id}`}></Label>\n          </div>\n          <div\n            className='email-favorite'\n            onClick={e => {\n              e.stopPropagation()\n              dispatch(updateMails({ emailIds: [mail.id], dataToUpdate: { isStarred: !mail.isStarred } }))\n            }}\n          >\n            <Star\n              size={14}\n              className={classnames({\n                favorite: mail.isStarred\n              })}\n            />\n          </div>\n        </div>\n      </div>\n      <div className='mail-body'>\n        <div className='mail-details'>\n          <div className='mail-items'>\n            <h5 className='mb-25'>{mail.from.name}</h5>\n            <span className='text-truncate'>{mail.subject}</span>\n          </div>\n          <div className='mail-meta-item'>\n            {mail.attachments && mail.attachments.length ? <Paperclip size={14} /> : null}\n            {renderLabels(mail.labels)}\n            <span className='mail-date'>{formatDateToMonthShort(mail.time)}</span>\n          </div>\n        </div>\n        <div className='mail-message'>\n          <p className='text-truncate mb-0'>{htmlToString(mail.message)}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default MailCard\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}